(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{217:function(e,t,n){},218:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},274:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(15),r=n.n(c),o=(n(217),n(4)),i=(n(218),n(479)),l=n(449),d=n(9),j=n.n(d),u=n(16),b=n(1);function p(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),t=Object(o.a)(e,2),n=t[0],a=(t[1],Object(s.useState)("")),c=Object(o.a)(a,2),r=c[0],d=c[1],p=Object(s.useState)(0),h=Object(o.a)(p,2),m=h[0],O=h[1],x=Object(s.useState)(0),f=Object(o.a)(x,2),g=f[0],v=f[1];return Object(s.useEffect)((function(){j.a.get(api+"/api/v1/UserProfileCard/"+n.userData._id).then((function(e){d(e.data),O(e.data.followers.length),v(e.data.followings.length),console.log(m),console.log(g)}))}),[]),Object(b.jsx)("div",{className:"sidebar",children:Object(b.jsxs)("div",{className:"main-wrap",children:[Object(b.jsxs)("div",{className:"top-wrapper",children:[Object(b.jsx)("div",{className:"cover-photo-div"}),Object(b.jsxs)("div",{className:"top-content",children:[Object(b.jsx)("img",{className:"profile-photo",src:r.propic,alt:""}),Object(b.jsx)("h3",{className:"profile-name",children:r.UserName}),Object(b.jsx)("p",{className:"profile-rating",children:"rating"}),Object(b.jsxs)("div",{className:"starts",children:[" ",Object(b.jsx)(i.a,{name:"size-small",size:"small",value:2,readOnly:!0})]})]}),Object(b.jsx)("hr",{className:"sidebar-hr"})]}),Object(b.jsxs)("div",{className:"bottom-wrapper",children:[Object(b.jsxs)("div",{className:"follow-div",children:[Object(b.jsx)("p",{className:"follow-title",children:"Followers"}),Object(b.jsx)("p",{className:"follow-count",children:m})]}),Object(b.jsxs)("div",{className:"follow-div",children:[Object(b.jsx)("p",{className:"follow-title",children:"Followings"}),Object(b.jsx)("p",{className:"follow-count",children:g})]}),Object(b.jsxs)("div",{className:"follow-div",children:[Object(b.jsx)("p",{className:"follow-title",children:"Posts"}),Object(b.jsx)("p",{className:"follow-count",children:r.posts})]}),Object(b.jsx)(u.b,{to:"/judge",children:Object(b.jsx)(l.a,{variant:"contained",color:"primary",children:"Judges panel"})})]})]})})}var h=n(10),m=n.n(h),O=n(17),x=(n(242),n(243),n(450)),f=n(456),g=n(476),v=n(455),N=n(19);function w(e){var t=e.renderPosts,n=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),a=Object(o.a)(n,2),c=a[0],r=(a[1],Object(N.f)(),Object(s.useState)(!1)),i=Object(o.a)(r,2),l=i[0],d=i[1],j=Object(s.useState)(null),u=Object(o.a)(j,2),p=u[0],h=u[1],w=Object(s.useState)(""),y=Object(o.a)(w,2),S=y[0],P=y[1],I=Object(s.useState)(""),C=Object(o.a)(I,2),k=C[0],D=C[1],E=Object(s.useState)(""),U=Object(o.a)(E,2),_=U[0],B=U[1],T=Object(s.useState)(""),F=Object(o.a)(T,2),W=F[0],A=F[1],L=Object(s.useState)(!1),R=Object(o.a)(L,2),M=R[0],J=R[1],q=c.userData._id,V=function(){var e=Object(O.a)(m.a.mark((function e(n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("postbtn").style.display="none",n.preventDefault(),d(!0),console.log(p),s=new FormData,console.log(W),s.append("name",S),s.append("sources",k),s.append("category",_),s.append("description",W),s.append("file",p),s.append("postedBy",q),s.append("valuation",M),console.log(s,"dataaaaaaaaaaaaaaaaaaa"),fetch(api+"/api/v1/post/setProfilePic",{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){console.log(e),t(),d(!1),h(null),A(""),P(""),D(""),B(" ")})).then((function(){})).catch((function(e){return alert(e)}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"share",children:Object(b.jsxs)("div",{className:"shareWrapper",children:[Object(b.jsxs)("div",{className:"shareTop",children:[Object(b.jsx)("img",{className:"shareProfileImg",src:c.userData.propic,alt:""}),Object(b.jsx)("input",{placeholder:"Welcome "+c.userData.UserName,className:"shareInput",value:W,onChange:function(e){return A(e.target.value)}})]}),Object(b.jsx)("hr",{className:"shareHr"}),p&&Object(b.jsxs)("div",{id:"sharevdo",className:"videoView",children:[Object(b.jsx)("video",{width:"600",height:"300",controls:!0,children:Object(b.jsx)("source",{className:"videoPreview",src:URL.createObjectURL(p),type:"video/mp4"})}),Object(b.jsx)(x.a,{className:"cancelVideo",onClick:function(){return h(null)}}),Object(b.jsx)("form",{is:"iron-form",onSubmit:V,children:Object(b.jsxs)("div",{className:"field-wrapper",children:[Object(b.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(b.jsx)(g.a,{value:S,onChange:function(e){return P(e.target.value)},required:!0,name:"name",label:"Name of the song",id:"outlined-margin-dense",margin:"dense",variant:"outlined"}),Object(b.jsx)(g.a,{name:"sources",value:k,onChange:function(e){return D(e.target.value)},required:!0,label:"Film/Album/Other source",id:"outlined-margin-dense",margin:"dense",variant:"outlined"}),Object(b.jsx)(g.a,{name:"category",value:_,onChange:function(e){return B(e.target.value)},required:!0,label:"Category",id:"outlined-margin-dense",margin:"dense",variant:"outlined"})]}),Object(b.jsx)("input",{value:M,onChange:function(e){return J(e.target.checked)},type:"checkbox",id:"valid-checkbox"}),Object(b.jsx)("label",{htmlFor:"valid-checkbox",children:"Send post for valuation"}),Object(b.jsxs)("div",{style:{alignItems:"centre"},children:[l&&Object(b.jsx)(v.a,{}),Object(b.jsx)("button",{type:"submit",id:"postbtn",className:"shareButton",children:"ADD POST"})]})]})})]}),Object(b.jsx)("form",{className:"shareBottom",children:Object(b.jsx)("div",{className:"shareOptions",children:Object(b.jsxs)("label",{htmlFor:"videoShare",className:"shareOption",children:[Object(b.jsx)(f.a,{htmlColor:"tomato",className:"shareIcon"}),Object(b.jsx)("span",{className:"shareOptionText",children:"Add Your Song"}),Object(b.jsx)("input",{style:{display:"none"},type:"file",id:"videoShare",onChange:function(e){return h(e.target.files[0])}})]})})})]})})}var y=n(13),S=(n(244),n(458)),P=n(187),I=n.n(P),C=n(459),k=n(475),D=n(453),E=n(460),U=n(477),_=n(478),B=n(409),T=n(457),F=n(186),W=n.n(F),A=n(69),L=n(104),R=n.n(L),M=Object(T.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)}}}));function J(e){var t=e.userData,n=e.userPost,c=e.renderPosts;console.log(t);var r,i=Object(s.useState)(JSON.parse(localStorage.getItem("userData")).userData),l=Object(o.a)(i,2),d=l[0],p=(l[1],Object(s.useState)("")),h=Object(o.a)(p,2),x=h[0],f=h[1],v=Object(s.useState)(""),N=Object(o.a)(v,2),w=N[0],P=N[1],T=Object(s.useState)(""),F=Object(o.a)(T,2),L=F[0],J=F[1],q=Object(s.useState)(""),V=Object(o.a)(q,2),H=V[0],K=V[1],z=Object(s.useState)([]),G=Object(o.a)(z,2),Y=(G[0],G[1]),Z=Object(s.useState)(t.post.likes.length),X=Object(o.a)(Z,2),$=X[0],Q=X[1],ee=Object(s.useState)(!1),te=Object(o.a)(ee,2),ne=te[0],se=te[1],ae=Object(s.useState)(0),ce=Object(o.a)(ae,2),re=ce[0],oe=ce[1],ie=Object(s.useState)(!1),le=Object(o.a)(ie,2),de=le[0],je=le[1],ue=Object(s.useState)(""),be=Object(o.a)(ue,2),pe=(be[0],be[1],M(),a.a.useState(!1)),he=Object(o.a)(pe,2),me=he[0],Oe=he[1],xe=a.a.useRef(null),fe=function(){var e=Object(O.a)(m.a.mark((function e(n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),s={name:x,sources:w,category:L,description:H},j.a.post(api+"/api/v1/post/editPost/"+t.post._id,s).then((function(){c(),je(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){xe.current&&xe.current.contains(e.target)||Oe(!1)};function ve(e){"Tab"===e.key&&(e.preventDefault(),Oe(!1))}var Ne=a.a.useRef(me);a.a.useEffect((function(){!0===Ne.current&&!1===me&&xe.current.focus(),Ne.current=me}),[me]);Object(s.useEffect)((function(){se(t.post.likes.includes(d._id)),oe(t.post.views)}),[d._id,t.post.likes,t.post.views]);var we=function(){try{j.a.put(api+"/api/v1/post/like/"+t.post._id,{userId:d._id})}catch(e){}Q(ne?$-1:$+1),se(!ne)};return Object(b.jsxs)("div",{id:t.post._id,children:[Object(b.jsx)("div",{className:"post",children:Object(b.jsxs)("div",{className:"postWrapper",children:[Object(b.jsxs)("div",{className:"postTop",children:[Object(b.jsxs)("div",{className:"postTopLeft",children:[Object(b.jsx)("img",{className:"postProfileImg",src:void 0!=t.propic?t.propic:"/assets/person/noAvatar.png"}),Object(b.jsx)(u.b,{to:"/profile/".concat(t._id),style:{textDecoration:"none"},children:Object(b.jsx)("span",{style:{color:"black"},className:"postUsername",children:t.UserName})}),Object(b.jsx)("span",{className:"postDate",children:Object(A.a)(t.post.postedAt)})]}),Object(b.jsxs)("div",{className:"postTopRight",children:[Object(b.jsx)(S.a,{ref:xe,"aria-controls":me?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){Oe((function(e){return!e}))}}),Object(b.jsx)(C.a,{open:me,anchorEl:xe.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var s=e.TransitionProps,a=e.placement;return Object(b.jsx)(k.a,Object(y.a)(Object(y.a)({},s),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(b.jsx)(D.a,{children:Object(b.jsx)(E.a,{onClickAway:ge,children:1==n?Object(b.jsxs)(U.a,{autoFocusItem:me,id:"menu-list-grow",onKeyDown:ve,children:[Object(b.jsx)(_.a,{onClick:function(){var e;e=t.post._id,j.a.get(api+"/api/v1/post/getPost/"+e).then((function(e){r=e.data})).then((function(){f(r.name),P(r.sources),J(r.category),K(r.description),Oe(!1),je(!0)}))},children:"Edit Post"}),Object(b.jsx)(_.a,{onClick:function(){var e,n;1==window.confirm("Are You Sure To Delete This Post?")?(e=t.post._id,n=t.post.url,j.a.put(api+"/api/v1/post/deletePost/"+e,{url:n}).then((function(e){c(),Oe(!1)}))):Oe(!1)},children:"Delete Post"})]}):Object(b.jsxs)(U.a,{autoFocusItem:me,id:"menu-list-grow",onKeyDown:ve,children:[Object(b.jsx)(_.a,{onClick:ge,children:"Report"}),Object(b.jsx)(_.a,{onClick:ge,children:"save"})]})})})}))}})]})]}),Object(b.jsx)("hr",{style:{marginBottom:"10px",marginTop:"10px"}}),Object(b.jsxs)("div",{className:"postCenter",children:[Object(b.jsx)("span",{className:"postDescription",children:t.post.description}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"postText",children:[Object(b.jsx)("b",{children:"Song Name:  "}),t.post.name]}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"postText",children:[Object(b.jsx)("b",{children:"Film/Source:  "}),t.post.sources]}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"postText",children:[Object(b.jsx)("b",{children:"Category:   "}),t.post.category]}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{style:{marginBottom:"10px"}}),Object(b.jsx)(R.a,{controls:!0,width:"600px",height:"300px",url:t.post.url,onStart:function(){try{j.a.put(api+"/api/v1/post/countViews/"+t.post._id,{userId:d._id}).then((function(){oe(re+1)}))}catch(e){}}})]}),Object(b.jsxs)("div",{className:"postBottom",children:[Object(b.jsxs)("div",{className:"postBottomLeft",children:[ne?Object(b.jsx)(W.a,{className:"likeIcon",onClick:we}):Object(b.jsx)(I.a,{className:"likeIcon",onClick:we}),Object(b.jsxs)("span",{className:"postLikeCounter",children:[$," people liked it"]})]}),Object(b.jsx)("div",{className:"postBottomRight",children:Object(b.jsxs)("span",{className:"postCommentText",children:[" ",re," views"]})})]}),Object(b.jsxs)("div",{className:"commentSection",children:[Object(b.jsx)("div",{className:"postComments",children:t.post.comments&&t.post.comments.map((function(e){return Object(b.jsx)("div",{className:"postComment",children:Object(b.jsxs)("div",{className:"comment-main-div",children:[Object(b.jsx)("img",{src:"/assets/person/noAvatar.png",alt:"userLogo"}),Object(b.jsx)(u.b,{to:"/profile/".concat(e.postedBy.userId),style:{textDecoration:"none"},children:Object(b.jsx)("span",{style:{color:"black",fontWeight:"600",paddingBottom:"30px"},children:e.postedBy.userName})}),Object(b.jsxs)("span",{children:[":  ",e.comment]}),Object(b.jsx)("p",{className:"replay-text",onClick:function(){document.getElementById("replyComment").style.display="block"},children:"Reply"}),Object(b.jsx)("div",{id:"replyComment",className:"reply-div",children:Object(b.jsx)("input",{type:"text",value:"data"})})]})},e._id)}))}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e){try{j.a.put(api+"/api/v1/post/comment/"+t.post._id,{user:{userId:d._id,userName:d.UserName},comment:e}).then((function(e){console.log(e),document.getElementById(t.post._id).value="",t.post.comments.push(e.data.comments),console.log(e.data.comments),Y(e)}))}catch(n){}}(e.target[0].value)},children:Object(b.jsxs)("div",{className:"postCommentInput",children:[Object(b.jsx)("input",{id:t.post._id,type:"text",required:!0,className:"commentInput",placeholder:"Add a comment"}),Object(b.jsx)("button",{type:"submit",className:"commentButton",children:"Comment"})]})})]})]})}),de&&Object(b.jsx)("div",{className:"channel-popup-main-div5",id:"dropdown",children:Object(b.jsxs)("div",{className:"channel-popup-inner-div5",children:[Object(b.jsx)("button",{onClick:function(){je(!1)},className:"close-btn",children:"x"}),Object(b.jsx)("div",{className:"user-registration-wrapper5",children:Object(b.jsxs)("div",{className:"user-registration-sub-wrapper",children:[Object(b.jsx)("div",{className:"heading-wrapper",children:Object(b.jsx)("h3",{children:"EDIT POST"})}),Object(b.jsx)("form",{onSubmit:fe,className:"loginBox",children:Object(b.jsxs)("div",{className:"field-wrapper",children:[Object(b.jsx)("div",{className:"user-registration-field-wrapper",children:Object(b.jsx)(g.a,{value:x,onChange:function(e){return f(e.target.value)},label:"Song Name",id:"outlined-margin-dense",helperText:"Enter The Song Name",margin:"dense",variant:"outlined",style:{width:440}})}),Object(b.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(b.jsx)(g.a,{value:w,onChange:function(e){return P(e.target.value)},label:"Film/Sources",id:"outlined-margin-dense",helperText:"Enter Film/Sources",margin:"dense",variant:"outlined",style:{width:215}}),Object(b.jsx)(g.a,{value:L,onChange:function(e){return J(e.target.value)},required:!0,name:"PhoneNumber",label:"Phone Number",id:"outlined-margin-dense",helperText:"Enter Your Phone Number.",margin:"dense",variant:"outlined",style:{width:215}})]}),Object(b.jsx)("div",{className:"user-registration-field-wrapper",children:Object(b.jsx)(B.a,{name:"User Bio",value:H,onChange:function(e){return K(e.target.value)},required:!0,label:"Description",helperText:"Description",placeholder:"Description",variant:"outlined",maxRows:4,minRows:3,style:{width:440}})}),Object(b.jsx)("div",{className:"button-wrapper",children:Object(b.jsx)("div",{className:"button-inside-wrapper",children:Object(b.jsx)("button",{type:"submit",children:"Edit Post"})})})]})})]})})]})})]})}function q(e){var t=e.props,n=e.userPost;console.log(t);var a=Object(s.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],l=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),d=Object(o.a)(l,2),u=d[0],p=(d[1],function(){var e=Object(O.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"==t){e.next=6;break}return e.next=3,j.a.get(api+"/api/v1/post/userPosts/"+t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,j.a.get(api+"/api/v1/post/explorePosts/"+u.userData._id);case 8:e.t0=e.sent;case 9:n=e.t0,console.log(n.data),i(n.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r),"home"==t){e.next=7;break}return e.next=4,j.a.get(api+"/api/v1/post/userPosts/"+t);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,j.a.get(api+"/api/v1/post/explorePosts/"+u.userData._id);case 9:e.t0=e.sent;case 10:n=e.t0,console.log(n.data),i(n.data),"added";case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,u]),Object(b.jsx)("div",{className:"feed",children:Object(b.jsxs)("div",{className:"feed-wrapper",children:[Object(b.jsx)(w,{renderPosts:p}),r.map((function(e){return Object(b.jsx)(J,{userData:e,userPost:n,renderPosts:p},e._id)}))]})})}n(264);function V(e){var t=e.profile,n=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{className:"rightbarAd",src:"",alt:""}),Object(b.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(b.jsx)("ul",{className:"rightbarFriendList"})]})},s=function(e){return console.log(e),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"heading",children:Object(b.jsx)("h4",{className:"rightbarTitle",style:{fontWeight:900},children:"User information"})}),Object(b.jsxs)("div",{className:"rightbarInfo",children:[Object(b.jsxs)("div",{className:"rightbarInfoItem",children:[Object(b.jsx)("span",{className:"rightbarInfoKey",children:"EMAIL:"}),Object(b.jsx)("span",{className:"rightbarInfoValue",children:e.props.Email})]}),Object(b.jsxs)("div",{className:"rightbarInfoItem",children:[Object(b.jsx)("span",{className:"rightbarInfoKey",children:"Contact NO:"}),Object(b.jsx)("span",{className:"rightbarInfoValue",children:e.props.PhoneNumber})]}),Object(b.jsxs)("div",{className:"rightbarInfoItem",children:[Object(b.jsx)("span",{className:"rightbarInfoKey",children:"Website:"}),Object(b.jsx)("span",{className:"rightbarInfoValue",children:e.props.Website})]}),Object(b.jsxs)("div",{className:"rightbarInfoItem",children:[Object(b.jsx)("span",{className:"rightbarInfoKey",children:"DOB:"}),Object(b.jsx)("span",{className:"rightbarInfoValue",children:e.props.Dob})]}),Object(b.jsxs)("div",{className:"rightbarInfoItem",children:[Object(b.jsx)("span",{className:"rightbarInfoKey",children:"Gender:"}),Object(b.jsx)("span",{className:"rightbarInfoValue",children:e.props.Gender})]})]}),Object(b.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(b.jsxs)("div",{className:"rightbarFollowings",children:[Object(b.jsxs)("div",{className:"rightbarFollowing",children:[Object(b.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(b.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(b.jsxs)("div",{className:"rightbarFollowing",children:[Object(b.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(b.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(b.jsxs)("div",{className:"rightbarFollowing",children:[Object(b.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(b.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(b.jsxs)("div",{className:"rightbarFollowing",children:[Object(b.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(b.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(b.jsxs)("div",{className:"rightbarFollowing",children:[Object(b.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(b.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(b.jsxs)("div",{className:"rightbarFollowing",children:[Object(b.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(b.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]})]})]})};return Object(b.jsx)("div",{className:"rightbar",children:Object(b.jsx)("div",{className:"rightbarWrapper",children:t?Object(b.jsx)(s,{props:t}):Object(b.jsx)(n,{})})})}n(265);var H,K=n(461),z=n(462),G=n(463),Y=n(464),Z=(n(266),n(89)),X=function(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(n),a=new Uint8Array(s.length),c=0;c<s.length;++c)a[c]=s.charCodeAt(c);return a}("BCE2rnvWM6soTQ84rBSvfrgWH4DXZb01pEasLmNOCzxBEKK9VNikCZhs0hffCxUP6auUeOA883XbdAcNXPE_EQI");function $(e){return fetch("".concat(api+"","/api/v1//notifications"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}var Q=Object(T.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)}}}));function ee(){var e=Object(N.f)(),t=Object(s.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),l=Object(o.a)(i,2),d=l[0],p=(l[1],Object(s.useState)("")),h=Object(o.a)(p,2),x=(h[0],h[1],Object(s.useState)("")),f=Object(o.a)(x,2),g=(f[0],f[1],Object(s.useState)("")),v=Object(o.a)(g,2),w=v[0],S=v[1],P=Object(s.useState)([]),I=Object(o.a)(P,2),B=I[0],T=I[1],F=Object(s.useState)([]),W=Object(o.a)(F,2),A=W[0],L=W[1],R=Object(s.useState)(!1),M=Object(o.a)(R,2),J=(M[0],M[1]),q=Object(s.useState)("music"),V=Object(o.a)(q,2),X=V[0],$=V[1],ee=(Q(),a.a.useState(!1)),te=Object(o.a)(ee,2),ne=te[0],se=te[1],ae=a.a.useRef(null),ce=function(e){ae.current&&ae.current.contains(e.target)||se(!1)};function re(e){"Tab"===e.key&&(e.preventDefault(),se(!1))}var oe=a.a.useRef(ne);a.a.useEffect((function(){!0===oe.current&&!1===ne&&ae.current.focus(),oe.current=ne}),[ne]);var ie=function(){var t=Object(O.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(H),!H){t.next=4;break}return t.next=4,j.a.put(api+"/api/v1/logout/"+d.userData._id,{subscription:H});case 4:localStorage.removeItem("userData"),e.push("/login");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"topbarContainer",children:[Object(b.jsx)("div",{className:"topbarLeft",children:Object(b.jsx)("span",{className:"logo",children:"Singram"})}),Object(b.jsxs)("div",{className:"topbarCenter",children:[Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)(K.a,{className:"searchIcon"}),Object(b.jsx)("input",{placeholder:"Search for friend, post or video",className:"searchInput",value:w,onChange:function(e){return S(e.target.value)},onInput:function(){r(!0)},onKeyUp:function(){"music"==X?j.a.get(api+"/api/v1/post/searchPost/"+w).then((function(e){T(e.data)})):j.a.get(api+"/api/v1/searchProfile/"+w).then((function(e){L(e.data)}))},onBlur:function(){setTimeout((function(){r(!1)}),300)}}),Object(b.jsxs)("select",{onChange:function(e){console.log(e.target.value),r(!1),$(e.target.value)},name:"",id:"",className:"search-filter-dropdown",children:[Object(b.jsx)("option",{value:"music",children:"Music"}),Object(b.jsx)("option",{value:"user",children:"User"})]})]}),!0===c&&B!==[]&&"music"==X&&Object(b.jsx)("div",{className:"channel-popup-main-div1",id:"dropdown5",children:Object(b.jsx)("div",{className:"channel-popup-inner-div1",children:B.map((function(e){return Object(b.jsxs)("div",{className:"comment-main-div1",children:[Object(b.jsx)("div",{className:"profileImg1",children:Object(b.jsx)(Z.a,{smooth:!0,to:"/profile/".concat(e.postedBy),style:{textDecoration:"none"},children:Object(b.jsx)("img",{onClick:function(){r(!1)},src:void 0!=e.postedUser.propic?e.postedUser.propic:"/assets/person/noAvatar.png",alt:"userLogo"})})}),Object(b.jsxs)("div",{className:"profileName",children:[Object(b.jsxs)(Z.a,{smooth:!0,to:"/profile/".concat(e.postedBy,"#").concat(e._id),style:{textDecoration:"none"},children:[Object(b.jsx)("span",{onClick:function(){r(!1)},style:{color:"black",fontWeight:"600"},children:e.name}),Object(b.jsx)("br",{})]}),Object(b.jsxs)(Z.a,{smooth:!0,to:"/profile/".concat(e.postedBy),style:{textDecoration:"none"},children:[Object(b.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",color:"black",fontWeight:"600",paddingBottom:"20px"},children:"Singer Name: "}),Object(b.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",textDecoration:"none"},children:e.postedUser.UserName}),Object(b.jsx)("br",{})]}),Object(b.jsx)(Z.a,{smooth:!0,to:"/profile/".concat(e.postedBy,"#").concat(e._id),style:{textDecoration:"none"},children:Object(b.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",color:"black",fontWeight:"600",paddingBottom:"20px"},children:"Source/film: "})}),Object(b.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",textDecoration:"none"},children:e.sources}),Object(b.jsx)("br",{})]})]},e._id)}))})}),!0===c&&A!=[]&&"user"==X&&Object(b.jsx)("div",{className:"channel-popup-main-div1",id:"dropdown",children:Object(b.jsx)("div",{className:"channel-popup-inner-div1",children:A.map((function(e){return Object(b.jsxs)("div",{onClick:function(){J(!0)},className:"comment-main-div1",children:[Object(b.jsx)("div",{className:"profileImg1",children:Object(b.jsx)(u.b,{to:"/profile/".concat(e._id),style:{textDecoration:"none"},children:Object(b.jsx)("img",{onClick:function(){r(!1)},src:e.propic?e.propic:"/assets/person/noAvatar.png",alt:"userLogo"})})}),Object(b.jsx)("div",{className:"profileName",children:Object(b.jsx)(u.b,{to:"/profile/".concat(e._id),style:{textDecoration:"none"},children:Object(b.jsx)("span",{onClick:function(){r(!1)},style:{color:"black",fontWeight:"600",paddingBottom:"30px"},children:e.UserName})})}),e._id!=d.userData._id&&Object(b.jsx)("div",{className:"followBtn1",children:Object(b.jsx)("button",{id:e._id,onClick:function(){var t;t=e._id,j.a.put(api+"/api/v1/followUser/"+t,{userId:d.userData._id}).then((function(e){J(!1),"Unfollowed"===e.data?document.getElementById(t).innerHTML="Follow":document.getElementById(t).innerHTML="Unfollow"}))},children:e.followers.includes(d.userData._id)?"Unfollow":"Follow"})})]},e._id)}))})})]}),Object(b.jsxs)("div",{className:"topbarRight",children:[Object(b.jsxs)("div",{className:"topbarLinks",children:[Object(b.jsx)(u.b,{style:{textDecoration:"none"},to:"/",children:Object(b.jsx)("span",{style:{color:"white"},className:"topbarLink",children:"Homepage"})}),Object(b.jsx)(u.b,{style:{textDecoration:"none"},to:"/profile/".concat(d.userData._id),children:Object(b.jsx)("span",{style:{color:"white"},className:"topbarLink",children:"Profile"})})]}),Object(b.jsxs)("div",{className:"topbarIcons",children:[Object(b.jsxs)("div",{className:"topbarIconItem",children:[Object(b.jsx)(z.a,{}),Object(b.jsx)("span",{className:"topbarIconBadge",children:"1"})]}),Object(b.jsx)(u.b,{to:"/chat",children:Object(b.jsxs)("div",{className:"topbarIconItem",children:[Object(b.jsx)(G.a,{}),Object(b.jsx)("span",{className:"topbarIconBadge",children:"2"})]})}),Object(b.jsxs)("div",{className:"topbarIconItem",children:[Object(b.jsx)(Y.a,{}),Object(b.jsx)("span",{className:"topbarIconBadge",children:"1"})]})]}),Object(b.jsx)("img",{src:d.userData.propic,alt:"",className:"topbarImg",ref:ae,"aria-controls":ne?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){se((function(e){return!e}))}}),Object(b.jsx)(C.a,{open:ne,anchorEl:ae.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(b.jsx)(k.a,Object(y.a)(Object(y.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(b.jsx)(D.a,{children:Object(b.jsx)(E.a,{onClickAway:ce,children:Object(b.jsxs)(U.a,{autoFocusItem:ne,id:"menu-list-grow",onKeyDown:re,children:[Object(b.jsx)(u.b,{style:{textDecoration:"none"},to:"/profile/".concat(d.userData._id),children:Object(b.jsx)(_.a,{style:{textDecoration:"none"},children:"Profile"})}),Object(b.jsx)(_.a,{onClick:ce,children:"My account"}),Object(b.jsx)(_.a,{onClick:ie,children:"Logout"})]})})})}))}})]})]})}n(267);function te(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ee,{}),Object(b.jsxs)("div",{className:"homePage",children:[Object(b.jsx)(p,{}),Object(b.jsx)(q,{props:"home"}),Object(b.jsx)(V,{})]})]})}n(268);var ne=n(465),se=n(190),ae=n.n(se),ce=(n(269),n(198)),re=n(188),oe=n.n(re),ie=function(e){return new Promise((function(t,n){var s=new Image;s.addEventListener("load",(function(){return t(s)})),s.addEventListener("error",(function(e){return n(e)})),s.setAttribute("crossOrigin","anonymous"),s.src=e}))};function le(e){return e*Math.PI/180}function de(e,t){return je.apply(this,arguments)}function je(){return(je=Object(O.a)(m.a.mark((function e(t,n){var s,a,c,r,o,i,l,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>2&&void 0!==d[2]?d[2]:0,e.next=3,ie(t);case 3:return a=e.sent,c=document.createElement("canvas"),r=c.getContext("2d"),o=Math.max(a.width,a.height),i=o/2*Math.sqrt(2)*2,c.width=i,c.height=i,r.translate(i/2,i/2),r.rotate(le(s)),r.translate(-i/2,-i/2),r.drawImage(a,i/2-.5*a.width,i/2-.5*a.height),l=r.getImageData(0,0,i,i),c.width=n.width,c.height=n.height,r.putImageData(l,0-i/2+.5*a.width-n.x,0-i/2+.5*a.height-n.y),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(481),n(474);Object(T.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var ue=a.a.createContext();var be,pe=function(e,t){for(var n=e.split(","),s=n[0].match(/:(.*?);/)[1],a=atob(n[1]),c=a.length,r=new Uint8Array(c);c--;)r[c]=a.charCodeAt(c);return new File([r],t,{type:s})},he=Object(T.a)({iconButton:{position:"absolute",top:"20px",right:"20px"},cancelIcon:{color:"#00a3c8",fontSize:"50px","&:hover":{color:"red"}}});function me(e){var t=e.handleCropper,n=e.userId,c=(e.proPic,e.renderProfile),r=he(),i=a.a.useRef(),d=a.a.useContext(ue),u=a.a.useState(null),p=Object(o.a)(u,2),h=p[0],x=p[1],f=a.a.useState(null),g=Object(o.a)(f,2),v=g[0],N=g[1],w=a.a.useState({x:0,y:0}),y=Object(o.a)(w,2),S=y[0],P=y[1],I=a.a.useState(1),C=Object(o.a)(I,2),k=C[0],D=C[1],E=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",d(!0,"Please select an image!","warning"));case 2:return e.next=4,de(h,v);case 4:t=e.sent,s=t.toDataURL("image/jpeg"),a=pe(s,"cropped-image.jpeg"),console.log(a),(r=new FormData).append("file",a),console.log(n),j.a.post(api+"/api/v1/editProPic/"+n,r).then((function(e){c()}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){i.current.click()}),[i]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(ne.a,{className:r.iconButton,onClick:t,children:Object(b.jsx)(oe.a,{style:{zIndex:1},className:r.cancelIcon})}),Object(b.jsx)("div",{className:"container-cropper",children:h?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"cropper",children:Object(b.jsx)(ce.a,{image:h,crop:S,zoom:k,aspect:1,onCropChange:P,onZoomChange:D,onCropComplete:function(e,t){N(t)}})})}):null}),Object(b.jsxs)("div",{className:"container-buttons",children:[Object(b.jsx)("input",{type:"file",accept:"image/*",ref:i,onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.addEventListener("load",(function(){x(t.result)}))}},style:{display:"none"}}),Object(b.jsx)(l.a,{variant:"contained",color:"secondary",onClick:E,children:"Upload"})]})]})}var Oe=Object(T.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)},cameraIcon:{height:"2rem",width:"2rem",position:"absolute",bottom:20,right:"410px",backgroundColor:"white"}}}));function xe(){var e=Oe(),t=a.a.useState(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=a.a.useRef(null),l=a.a.useState(!1),d=Object(o.a)(l,2),h=d[0],x=d[1],f=function(){return x((function(e){return!e}))},v=function(e){i.current&&i.current.contains(e.target)||r(!1)};function w(e){"Tab"===e.key&&(e.preventDefault(),r(!1))}var S=a.a.useRef(c);a.a.useEffect((function(){!0===S.current&&!1===c&&i.current.focus(),S.current=c}),[c]);var P=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),I=Object(o.a)(P,2),T=I[0],F=(I[1],Object(s.useState)(!1)),W=Object(o.a)(F,2),A=W[0],L=W[1],R=Object(s.useState)(""),M=Object(o.a)(R,2),J=M[0],H=M[1],K=Object(s.useState)(!1),z=Object(o.a)(K,2),G=z[0],Y=z[1],Z=Object(N.g)().id,X=Object(s.useState)(0),$=Object(o.a)(X,2),Q=$[0],te=$[1],se=Object(s.useState)(0),ce=Object(o.a)(se,2),re=ce[0],oe=ce[1],ie=Object(s.useState)(J.UserName),le=Object(o.a)(ie,2),de=le[0],je=le[1],ue=Object(s.useState)(J.Email),pe=Object(o.a)(ue,2),he=pe[0],xe=pe[1],fe=Object(s.useState)(J.PhoneNumber),ge=Object(o.a)(fe,2),ve=ge[0],Ne=ge[1],we=Object(s.useState)(J.Dob),ye=Object(o.a)(we,2),Se=ye[0],Pe=ye[1],Ie=Object(s.useState)(J.Gender),Ce=Object(o.a)(Ie,2),ke=Ce[0],De=Ce[1],Ee=Object(s.useState)(J.Website),Ue=Object(o.a)(Ee,2),_e=Ue[0],Be=Ue[1],Te=Object(s.useState)(J.Bio),Fe=Object(o.a)(Te,2),We=Fe[0],Ae=Fe[1],Le=Object(s.useState)(""),Re=Object(o.a)(Le,2),Me=Re[0],Je=Re[1],qe=Object(s.useState)(""),Ve=Object(o.a)(qe,2),He=Ve[0],Ke=Ve[1],ze=Object(s.useState)(!1),Ge=Object(o.a)(ze,2),Ye=(Ge[0],Ge[1]),Ze=function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={UserName:de,Email:he,PhoneNumber:ve,Dob:Se,Gender:ke,Website:_e,Bio:We},j.a.post(api+"/api/v1/updateProfile/"+J._id,n).then((function(e){H(e.data),L(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){j.a.get(api+"/api/v1/UserProfile/"+Z).then(function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t.data);case 2:x(!1),be=t.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){Y(be.followers.includes(T.userData._id)),te(be.followers.length),oe(be.followings.length),je(be.UserName),xe(be.Email),Ne(be.PhoneNumber),Pe(be.Dob),De(be.Gender),Be(be.Website),Ae(be.Bio)}))},$e=function(){j.a.put(api+"/api/v1/deletePropic/"+J._id,{url:J.propic}).then((function(){Xe()}))};Object(s.useEffect)(Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){try{j.a.get(api+"/api/v1/UserProfile/"+Z).then(function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t.data);case 2:be=t.data;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){Y(be.followers.includes(T.userData._id)),te(be.followers.length),oe(be.followings.length),je(be.UserName),xe(be.Email),Ne(be.PhoneNumber),Pe(be.Dob),De(be.Gender),Be(be.Website),Ae(be.Bio)}))}catch(e){}},e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),[Z]);var Qe=function(e){L("friends"),Ke(e),"FOLLOWINGS"==e?j.a.get(api+"/api/v1/userFollowings/"+J._id).then((function(e){Je(e.data),console.log(e.data)})):j.a.get(api+"/api/v1/userFollowers/"+J._id).then((function(e){Je(e.data),console.log(e.data)}))};return Object(b.jsxs)("div",{children:[Object(b.jsx)(ee,{}),Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)(p,{}),Object(b.jsxs)("div",{className:"profileRight",children:[Object(b.jsxs)("div",{className:"profileRightTop",children:[Object(b.jsxs)("div",{className:"profileCover",children:[Object(b.jsx)("img",{className:"profileCoverImg",src:"/assets/person/noCover.jpg",alt:""}),Object(b.jsxs)("div",{className:"propic",children:[Object(b.jsx)("img",{className:"profileUserImg",src:void 0!=J.propic?J.propic:"/assets/person/noAvatar.png",alt:"/assets/person/noAvatar.png"}),Object(b.jsx)(ne.a,{className:e.cameraIcon,ref:i,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){r((function(e){return!e}))},children:Object(b.jsx)(ae.a,{})}),Object(b.jsx)(C.a,{open:c,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(b.jsx)(k.a,Object(y.a)(Object(y.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(b.jsx)(D.a,{children:Object(b.jsx)(E.a,{onClickAway:v,children:Object(b.jsxs)(U.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:w,children:[Object(b.jsx)(_.a,{onClick:function(e){f()},children:"Change"}),Object(b.jsx)(_.a,{onClick:$e,children:"Remove"})]})})})}))}}),h&&Object(b.jsx)(me,{handleCropper:f,userId:J._id,proPic:J.proPic,renderProfile:Xe})]})]}),Object(b.jsxs)("div",{className:"profileInfo",children:[Object(b.jsx)("h4",{className:"profileInfoName",children:J.UserName}),Object(b.jsx)("span",{className:"profileInfoDesc",children:J.Bio}),Object(b.jsxs)("span",{onClick:function(){return Qe("FOLLOWERS")},className:"profileInfoDesc",children:[Q," followers"]}),Object(b.jsxs)("span",{onClick:function(){return Qe("FOLLOWINGS")},className:"profileInfoDesc",children:[re," followings"]}),T.userData._id==J._id?Object(b.jsx)("button",{className:"profilebtn",onClick:function(){L("update")},children:"Update Profile"}):Object(b.jsx)("button",{className:"profilebtn",onClick:function(){j.a.put(api+"/api/v1/followUser/"+Z,{userId:T.userData._id}).then((function(e){"Unfollowed"===e.data?(Y(!1),te(Q-1)):(Y(!0),te(Q+1))}))},children:!0===G?"Unfollow":"Follow"})]})]}),Object(b.jsxs)("div",{className:"profileRightBottom",children:[Object(b.jsx)(q,{props:J._id,userPost:T.userData._id==J._id}),Object(b.jsx)(V,{profile:J})]})]})]}),"update"==A?Object(b.jsx)("div",{className:"channel-popup-main-div",id:"dropdown",children:Object(b.jsxs)("div",{className:"channel-popup-inner-div",children:[Object(b.jsx)("button",{onClick:function(){L(!1)},className:"close-btn",children:"x"}),Object(b.jsx)("div",{className:"user-registration-wrapper",children:Object(b.jsxs)("div",{className:"user-registration-sub-wrapper",children:[Object(b.jsx)("div",{className:"heading-wrapper",children:Object(b.jsx)("h3",{children:"Update Profile"})}),Object(b.jsx)("form",{onSubmit:Ze,className:"loginBox",children:Object(b.jsxs)("div",{className:"field-wrapper",children:[Object(b.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(b.jsx)(g.a,{value:de,onChange:function(e){return je(e.target.value)},required:!0,label:"User Name.",id:"outlined-margin-dense",helperText:"Enter your user name",margin:"dense",variant:"outlined"}),Object(b.jsx)(g.a,{value:he,onChange:function(e){return xe(e.target.value)},required:!0,label:"Email.",id:"outlined-margin-dense",helperText:"We'll never share your email",margin:"dense",variant:"outlined"})]}),Object(b.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(b.jsx)(g.a,{value:ve,onChange:function(e){return Ne(e.target.value)},required:!0,name:"PhoneNumber",label:"Phone Number",id:"outlined-margin-dense",helperText:"Enter Your Phone Number.",margin:"dense",variant:"outlined"}),Object(b.jsx)(g.a,{name:"dob",value:Se,onChange:function(e){return Pe(e.target.value)},required:!0,type:"date",id:"outlined-margin-dense",helperText:"Enter Your Date Of Birth",margin:"dense",variant:"outlined",style:{width:220}})]}),Object(b.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(b.jsxs)(g.a,{value:ke,select:!0,onChange:function(e){return De(e.target.value)},name:"Gender",label:"Select",id:"outlined-margin-dense",helperText:"Gender",margin:"dense",variant:"outlined",style:{width:220},children:[Object(b.jsx)(_.a,{value:"Male",children:"Male"}),Object(b.jsx)(_.a,{value:"Female",children:"Female"}),Object(b.jsx)(_.a,{value:"Custom",children:"Custom"})]}),Object(b.jsx)(g.a,{name:"website",value:_e,onChange:function(e){return Be(e.target.value)},required:!0,label:"Website",id:"outlined-margin-dense",helperText:"Website",margin:"dense",variant:"outlined"})]}),Object(b.jsx)("div",{className:"user-registration-field-wrapper",children:Object(b.jsx)(B.a,{name:"User Bio",required:!0,label:"Website",helperText:"User Bio",value:We,onChange:function(e){return Ae(e.target.value)},placeholder:"User Bio",variant:"outlined",maxRows:4,minRows:3,style:{width:460}})}),Object(b.jsx)("div",{className:"button-wrapper",children:Object(b.jsx)("div",{className:"button-inside-wrapper",children:Object(b.jsx)("button",{type:"submit",children:"Update Profile"})})})]})})]})})]})}):"friends"==A&&Object(b.jsx)("div",{className:"followersPopupDiv",id:"dropdown",children:Object(b.jsxs)("div",{className:"followersPopupInnerDiv",children:[Object(b.jsx)("button",{onClick:function(){L(null)},className:"close-btn",children:"x"}),Object(b.jsx)("div",{className:"popupHeading1",children:Object(b.jsx)("h3",{children:He})}),Me&&Me.slice(0).reverse().map((function(e){return Object(b.jsxs)("div",{className:"usersView",children:[Object(b.jsx)("div",{className:"profileImg2",children:Object(b.jsx)(u.b,{to:"/profile/".concat(e.friends._id),style:{textDecoration:"none"},children:Object(b.jsx)("img",{onClick:function(){L(!1)},src:"/assets/person/noAvatar.png",alt:"userLogo"})})}),Object(b.jsx)("div",{className:"profileName",children:Object(b.jsx)(u.b,{to:"/profile/".concat(e.friends._id),style:{textDecoration:"none"},children:Object(b.jsx)("span",{onClick:function(){L(!1)},style:{color:"black",fontWeight:"600",paddingBottom:"30px"},children:e.friends.UserName})})}),e.friends._id!=T.userData._id&&Object(b.jsx)("div",{className:"followBtn2",children:Object(b.jsx)("button",{id:e.friends._id,style:{margin:"0px 16px"},onClick:function(){var t;t=e.friends._id,j.a.put(api+"/api/v1/followUser/"+t,{userId:T.userData._id}).then((function(e){Ye(!1),"Unfollowed"===e.data?document.getElementById(t).innerHTML="Follow":document.getElementById(t).innerHTML="Unfollow"}))},children:e.friends.followers.includes(T.userData._id)?"Unfollow":"Follow"})})]},e.friends._id)}))]})})]})}n(274);var fe=n(109),ge=n(33),ve=n(454);function Ne(){var e=Object(s.useRef)(),t=Object(s.useRef)(),n=Object(N.f)(),a=Object(fe.a)({initialValues:{UserName:"",Email:"",PasswordAgain:"",password:""},validationSchema:ge.a({Password:ge.c().max(40,"Password too long").required("Please Enter your password").min(6,"Password must be at least 6 charecters"),Email:ge.c().email("Invalid email address").required("Please Enter Email Address")}),onSubmit:function(e){console.log(H),e.subscription=H;var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(api+"/api/v1/login",t).then((function(e){return e.json()})).then(function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.error?document.getElementById("error").innerHTML=t.error:(localStorage.setItem("token",JSON.stringify(t.jwt)),localStorage.setItem("userData",JSON.stringify({userData:t.user})),n.push("/"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}});return Object(b.jsx)("div",{className:"login",children:Object(b.jsxs)("div",{className:"loginWrapper",children:[Object(b.jsxs)("div",{className:"loginLeft",children:[Object(b.jsx)("img",{className:"home-image",src:"/assets/Theme-image.svg"}),Object(b.jsx)("span",{className:"loginDesc",children:"Express...Explore...."})]}),Object(b.jsx)("div",{className:"loginRight",children:Object(b.jsxs)("form",{onSubmit:a.handleSubmit,className:"loginBox",children:[Object(b.jsx)("span",{style:{color:"red"},id:"error"}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({placeholder:"Email"},a.getFieldProps("Email")),{},{ref:e,className:"loginInput"})),Object(b.jsx)(ve.a,{children:a.touched.Email&&a.errors.Email?Object(b.jsx)("span",{style:{color:"red"},children:a.errors.Email}):Object(b.jsx)("span",{children:"We'll never share your email. "})}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({type:"password",placeholder:"Password",ref:t},a.getFieldProps("Password")),{},{className:"loginInput"})),Object(b.jsx)(ve.a,{children:a.touched.Password&&a.errors.Password?Object(b.jsx)("span",{style:{color:"red"},children:a.errors.Password}):Object(b.jsx)("span",{children:"Enter Your Password"})}),Object(b.jsx)("button",{type:"submit",className:"loginButton",children:"Log In"}),Object(b.jsx)("span",{className:"loginForgot",children:"Forgot Password?"}),Object(b.jsx)("div",{className:"links",children:Object(b.jsx)(u.b,{to:"/signup",children:"Don't have an account? sign up"})})]})})]})})}n(373);function we(){var e=Object(N.f)(),t=Object(fe.a)({initialValues:{UserName:"",Email:"",PasswordAgain:"",password:""},validationSchema:ge.a({Password:ge.c().max(40,"Password too long").required("Please Enter a password").min(6,"Password must be at least 6 charecters"),Email:ge.c().email("Invalid email address").required("Please Enter Email Address"),UserName:ge.c().matches(/^[A-Za-z ]*$/,"Please enter valid name").max(40,"Username is too long").required("Please Enter a username").min(6,"username should contain atleast 6 charecters"),PasswordAgain:ge.c().required("please confirm your password").when("Password",{is:function(e){return!!(e&&e.length>0)},then:ge.c().oneOf([ge.b("Password")],"Password must be match")}),PhoneNumber:ge.c().required("Phone number is required").matches(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,"Please Enter A Valid Phone Number")}),onSubmit:function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};console.log(t),fetch(api+"/api/v1/signUp",n).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("error").innerHTML=t.error:(document.getElementById("error").innerHTML=t.message,e.push("/login"))}))}});return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"login",children:Object(b.jsxs)("div",{className:"loginWrapper",children:[Object(b.jsxs)("div",{className:"loginLeft",children:[Object(b.jsx)("img",{className:"home-image",src:"/assets/Theme-image.svg",alt:""}),Object(b.jsx)("span",{className:"loginDesc",children:"Express...Explore...."})]}),Object(b.jsx)("div",{className:"loginRight",children:Object(b.jsxs)("form",{onSubmit:t.handleSubmit,className:"loginBox",children:[Object(b.jsx)("span",{style:{color:"red"},id:"error"}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({placeholder:"Username"},t.getFieldProps("UserName")),{},{className:"loginInput"})),Object(b.jsx)(ve.a,{children:t.touched.UserName&&t.errors.UserName?Object(b.jsx)("span",{style:{color:"red"},children:t.errors.UserName}):Object(b.jsx)("span",{children:"Enter your User name"})}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({placeholder:"Email"},t.getFieldProps("Email")),{},{className:"loginInput"})),Object(b.jsx)(ve.a,{children:t.touched.Email&&t.errors.Email?Object(b.jsx)("span",{style:{color:"red"},children:t.errors.Email}):Object(b.jsx)("span",{children:"We'll never share your email. "})}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({placeholder:"PhoneNumber"},t.getFieldProps("PhoneNumber")),{},{className:"loginInput"})),Object(b.jsx)(ve.a,{children:t.touched.PhoneNumber&&t.errors.PhoneNumber?Object(b.jsx)("span",{style:{color:"red"},children:t.errors.PhoneNumber}):Object(b.jsx)("span",{children:"We'll never share your phone number. "})}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({placeholder:"Password"},t.getFieldProps("Password")),{},{className:"loginInput"})),Object(b.jsx)(ve.a,{children:t.touched.Password&&t.errors.Password?Object(b.jsx)("span",{style:{color:"red"},children:t.errors.Password}):Object(b.jsx)("span",{children:"Enter Your Password"})}),Object(b.jsx)("input",Object(y.a)(Object(y.a)({placeholder:"Password Again"},t.getFieldProps("PasswordAgain")),{},{className:"loginInput"})),Object(b.jsx)(ve.a,{children:t.touched.PasswordAgain&&t.errors.PasswordAgain?Object(b.jsx)("span",{style:{color:"red"},children:t.errors.PasswordAgain}):Object(b.jsx)("span",{children:"Re-enter password"})}),Object(b.jsx)("button",{className:"loginButton",type:"submit",children:"Sign Up"}),Object(b.jsx)("div",{className:"links",children:Object(b.jsx)(u.b,{to:"/login",children:"Already have a account? sign in"})})]})})]})})})}var ye=n(28);n(374);function Se(e){var t=e.message,n=e.sender;return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:n?"message own":"message",children:[Object(b.jsxs)("div",{className:"messageTop",children:[Object(b.jsx)("img",{className:"messageImg",src:t.senderData&&t.senderData.propic?t.senderData.propic:"/assets/person/noAvatar.png",alt:""}),Object(b.jsx)("p",{className:"messageText",children:t.text})]}),Object(b.jsx)("div",{className:"messageBottom",children:Object(A.a)(t.time)})]})})}n(375);function Pe(e){var t=e.socketUsers,n=e.loginUser;e.currentChat;console.log(t);var a=Object(s.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],l=Object(s.useState)([]),d=Object(o.a)(l,2),u=d[0],p=d[1],h=Object(s.useState)(t),x=Object(o.a)(h,2),f=(x[0],x[1],Object(s.useState)(n)),g=Object(o.a)(f,2),v=g[0];g[1];return Object(s.useEffect)((function(){return j.a.get(api+"/api/v1/userFollowings/"+v).then((function(e){i(e.data)}))}),[v]),Object(s.useEffect)(Object(O.a)(m.a.mark((function e(){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.map((function(e){return n.push(e.user_id)}));case 3:return console.log(n),s=[],console.log(r),e.next=8,r.map((function(e){return n.includes(e.friends._id)&&s.push(e.friends)}));case 8:console.log(s),p(s);case 10:case"end":return e.stop()}}),e)}))),[r,t]),Object(s.useEffect)((function(){console.log(u)}),[u]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"chatOnline",children:u.map((function(e){return Object(b.jsxs)("div",{className:"chatOnlineFriend",children:[Object(b.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(b.jsx)("img",{className:"chatOnlineImg",src:"/assets/person/noAvatar.png",alt:""}),Object(b.jsx)("div",{className:"chatOnlineBadge"})]}),Object(b.jsx)("span",{className:"chatOnlineName",children:e.UserName})]})}))})})}n(376);function Ie(e){var t=e.chat,n=Object(s.useState)(Object(s.useState)(JSON.parse(localStorage.getItem("userData")))),a=Object(o.a)(n,2),c=a[0],r=(a[1],Object(s.useState)(null)),i=Object(o.a)(r,2),l=i[0],d=i[1];return Object(s.useEffect)((function(){var e=t.members.find((function(e){return e!=c[0].userData._id}));console.log(e),j.a.get(api+"/api/v1/getUser/"+e).then((function(e){console.log(e.data),d(e.data)}))}),[c,t]),Object(b.jsxs)("div",{className:"conversation",children:[Object(b.jsx)("img",{className:"conversationImg",src:l&&void 0!=l.propic?l.propic:"/assets/person/noAvatar.png",alt:""}),Object(b.jsx)("span",{className:"conversationName",children:null===l||void 0===l?void 0:l.UserName})]})}n(377);var Ce=n(196);function ke(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(null),r=Object(o.a)(c,2),i=r[0],l=r[1],d=Object(s.useState)([]),u=Object(o.a)(d,2),p=u[0],h=u[1],x=Object(s.useState)(""),f=Object(o.a)(x,2),g=f[0],v=f[1],N=Object(s.useState)(""),w=Object(o.a)(N,2),y=w[0],S=w[1],P=Object(s.useState)([]),I=Object(o.a)(P,2),C=I[0],k=I[1],D=Object(s.useState)(!1),E=Object(o.a)(D,2),U=E[0],_=E[1],B=Object(s.useState)(!1),T=Object(o.a)(B,2),F=T[0],W=T[1],A=Object(s.useRef)(),L=Object(s.useState)(JSON.parse(localStorage.getItem("userData")).userData),R=Object(o.a)(L,2),M=R[0],J=(R[1],Object(s.useRef)());Object(s.useEffect)((function(){A.current=Object(Ce.io)("ws://localhost:4000"),A.current.on("getMessage",(function(e){S(e)})),A.current.on("typingUpdate",(function(e){1==e.typing&&(console.log(e),_(!0))})),A.current.on("typingUpdateOff",(function(e){console.log(e),_(!1)})),A.current.on("getConnections",(function(e){k(e),console.log(e)}))}),[]),Object(s.useEffect)((function(){y&&(null===i||void 0===i||i.members.includes(y.sender)),h((function(e){return[].concat(Object(ye.a)(e),[y])}))}),[y]),Object(s.useEffect)((function(){!1===U?W(!1):!0===U&&W(!0)}),[U]),Object(s.useEffect)((function(){j.a.get(api+"/api/v1/chat/"+M._id).then((function(e){a(e.data),console.log(e)}))}),[M]),Object(s.useEffect)((function(){j.a.get(api+"/api/v1/chat/chatMessage/"+(null===i||void 0===i?void 0:i._id)).then((function(e){h(e.data)}))}),[i]);console.log(A),Object(s.useEffect)((function(){A.current.emit("connect1",M._id),A.current.on("getConnections",(function(e){k(e),console.log(e)}))}),[M]),Object(s.useEffect)((function(){var e;null===(e=J.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[p]);var q=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.members.find((function(e){return e!==M._id})),console.log(M._id,t,g),e.next=4,A.current.emit("ping",{senderId:M._id,recieverId:t,content:g});case 4:j.a.post(api+"/api/v1/chat/message",{sender:M._id,chat:i._id,text:g,senderName:M.UserName}).then((function(e){console.log(e.data),h([].concat(Object(ye.a)(p),[e.data])),v("")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ee,{}),Object(b.jsxs)("div",{className:"messenger",children:[Object(b.jsx)("div",{className:"chatMenu",children:Object(b.jsxs)("div",{className:"chatMenuWrapper",children:[Object(b.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),n.map((function(e){return Object(b.jsx)("div",{onClick:function(){return l(e)},children:Object(b.jsx)(Ie,{chat:e})})}))]})}),Object(b.jsx)("div",{className:"chatBox",children:Object(b.jsx)("div",{className:"chatBoxWrapper",children:i?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"chatBoxTop",children:p.map((function(e){return Object(b.jsx)("div",{ref:J,children:Object(b.jsx)(Se,{message:e,sender:e.sender===M._id})})}))}),!0===F&&Object(b.jsx)("p",{style:{color:"green"},children:"Typing..."}),Object(b.jsxs)("div",{className:"chatBoxBottom",children:[Object(b.jsx)("input",{className:"chatMessageInput",placeholder:"write something...",onInput:function(){var e=i.members.find((function(e){return e!=M._id}));A.current.emit("typing",{senderId:M._id,recieverId:e})},onBlur:function(){var e=i.members.find((function(e){return e!=M._id}));A.current.emit("offTyping",{senderId:M._id,recieverId:e})},onChange:function(e){return v(e.target.value)},value:g}),Object(b.jsx)("button",{className:"chatSubmitButton",onClick:q,children:"Send"})]})]}):Object(b.jsx)("span",{className:"noConversationText",children:"Open a conversation to start a chat."})})}),Object(b.jsx)("div",{className:"chatOnline",children:Object(b.jsx)("div",{className:"chatOnlineWrapper",children:Object(b.jsx)(Pe,{socketUsers:C,loginUser:M._id,setCurrentChat:l})})})]})]})}n(407);var De=n(197),Ee=n.n(De),Ue=n(467),_e=n(471),Be=n(470),Te=n(466),Fe=n(468),We=n(473),Ae=n(469),Le=[{id:"postedBy",label:"Posted User",minWidth:170,align:"center"},{id:"name",label:"Song Name",minWidth:170,align:"center"},{id:"likes",label:"Likes",minWidth:100,align:"center"},{id:"views",label:"Views",minWidth:100,align:"center"},{id:"comments",label:"Comments",minWidth:100,align:"center"},{id:"url",label:"Delete",minWidth:140,align:"center"}],Re=Object(T.a)({root:{width:"100%"},container:{maxHeight:"calc(100vh - 50px)"}});function Me(){var e=Re(),t=a.a.useState(0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=a.a.useState(10),l=Object(o.a)(i,2),d=l[0],u=l[1],h=Object(s.useState)([]),m=Object(o.a)(h,2),O=(m[0],m[1],Object(s.useState)([])),x=Object(o.a)(O,2),f=x[0],g=x[1],v=Object(s.useState)(!1),N=Object(o.a)(v,2),w=N[0],y=N[1];return Object(s.useEffect)((function(){j.a.get(api+"/api/v1/post/getValuationPosts").then((function(e){g(e.data)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(ee,{}),Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)(p,{}),Object(b.jsxs)("div",{className:"postManagement",children:[Object(b.jsxs)(D.a,{className:e.root,children:[Object(b.jsx)(Te.a,{className:e.container,children:Object(b.jsxs)(Ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(b.jsx)(Fe.a,{children:Object(b.jsx)(Ae.a,{children:Le.map((function(e){return Object(b.jsx)(Be.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(b.jsx)(_e.a,{children:f.slice(c*d,c*d+d).map((function(e){return Object(b.jsx)(Ae.a,{className:"tableRow",onClick:function(){return t=e._id,void j.a.get(api+"/api/v1/admin/getPost/"+t).then((function(e){y(e.data)}));var t},hover:!0,role:"checkbox",tabIndex:-1,children:Le.map((function(t){var n=e[t.id];return Object(b.jsx)(Be.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):"likes"==t.id||"comments"==t.id?n.length:"Delete"==t.label?Object(b.jsx)(Ee.a,{onClick:function(){},style:{cursor:"pointer"},color:e.url?"secondary":"disabled"}):"postedBy"==t.id?e.user.UserName:n},t.id)}))},e.code)}))})]})}),Object(b.jsx)(We.a,{rowsPerPageOptions:[10,25,100],component:"div",count:f.length,rowsPerPage:d,page:c,onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){u(+e.target.value),r(0)}})]}),w&&Object(b.jsx)("div",{className:"channel-popup-main-div",id:"dropdown",children:Object(b.jsx)("div",{className:"channel-popup-inner-div",children:Object(b.jsx)("div",{className:"post",children:Object(b.jsxs)("div",{className:"postWrapper",children:[Object(b.jsxs)("div",{className:"postTop",children:[Object(b.jsxs)("div",{className:"postTopLeft",children:[Object(b.jsx)("img",{className:"postProfileImg",src:void 0!=w.user.propic?w.user.propic:"/noAvatar.png"}),Object(b.jsx)("span",{style:{color:"black"},className:"postUsername",children:w.user.UserName}),Object(b.jsx)("span",{className:"postDate",children:Object(A.a)(w.postedAt)})]}),Object(b.jsx)("div",{className:"postTopRight",children:Object(b.jsx)("button",{onClick:function(){y(!1)},className:"close-btn",children:"x"})})]}),Object(b.jsx)("hr",{style:{marginBottom:"10px",marginTop:"10px"}}),Object(b.jsxs)("div",{className:"postCenter",children:[Object(b.jsx)("span",{className:"postDescription",children:w.description}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"postText",children:[Object(b.jsx)("b",{children:"Song Name:  "}),w.name]}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"postText",children:[Object(b.jsx)("b",{children:"Film/Source:  "}),w.sources]}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"postText",children:[Object(b.jsx)("b",{children:"Category:   "}),w.category]}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{style:{marginBottom:"10px"}}),Object(b.jsx)(R.a,{controls:!0,width:"600px",height:"300px",url:w.url})]}),Object(b.jsxs)("div",{className:"postBottom",children:[Object(b.jsx)("div",{className:"postBottomLeft",children:Object(b.jsxs)("span",{className:"postLikeCounter",children:[w.likes.length,"people liked it"]})}),Object(b.jsxs)("div",{className:"postBottomRight",children:[Object(b.jsxs)("span",{className:"postCommentText",children:[w.comments.length," comments"]}),Object(b.jsxs)("span",{className:"postCommentText",children:[w.views," views"]})]})]})]})})})})]})]})]})}var Je=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),t=Object(o.a)(e,2),n=t[0];return t[1],Object(b.jsx)("div",{children:Object(b.jsx)(u.a,{children:Object(b.jsxs)(N.c,{children:[Object(b.jsx)(N.a,{path:"/login",component:Ne}),Object(b.jsx)(N.a,{exact:!0,path:"/",component:n?te:Ne}),Object(b.jsx)(N.a,{path:"/signup",component:we}),Object(b.jsx)(N.a,{exact:!0,path:"/profile/:id",component:n?xe:Ne}),Object(b.jsx)(N.a,{exact:!0,path:"/chat",component:n?ke:Ne}),Object(b.jsx)(N.a,{path:"/judge",component:n?Me:Ne})]})})})},qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(Je,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){var t=new URL("",window.location.href);if(console.log(t),t.origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/").concat("service-worker.js");qe?(!function(e,t){console.log("entered"),fetch(e).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?(console.log(n),navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))}))):Ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ve(t,e)}))}}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.pushManager?e.pushManager.getSubscription().then((function(t){null===t?(console.log("No subscription detected, make a request."),e.pushManager.subscribe({applicationServerKey:X,userVisibleOnly:!0}).then((function(e){H=e,console.log("New subscription added."),$(e)})).catch((function(e){"granted"!==Notification.permission?console.log("Permission was not granted."):console.error("An error ocurred during the subscription process.",e)}))):(console.log("Existed subscription detected."),H=t,$(t))})):console.log("Push manager unavailable.")})).catch((function(e){console.error("An error ocurred during Service Worker registration.",e)}))}},[[408,1,2]]]);
//# sourceMappingURL=main.aae75046.chunk.js.map