(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{217:function(e,t,n){},218:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},274:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(15),r=n.n(c),i=(n(217),n(4)),o=(n(218),n(479)),l=n(449),d=n(9),j=n.n(d),u=n(16),b="http://3.109.139.28",p=n(1);function h(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),t=Object(i.a)(e,2),n=t[0],a=(t[1],Object(s.useState)("")),c=Object(i.a)(a,2),r=c[0],d=c[1],h=Object(s.useState)(0),m=Object(i.a)(h,2),O=m[0],x=m[1],f=Object(s.useState)(0),g=Object(i.a)(f,2),v=g[0],N=g[1];return Object(s.useEffect)((function(){j.a.get(b+"/api/v1/UserProfileCard/"+n.userData._id).then((function(e){d(e.data),x(e.data.followers.length),N(e.data.followings.length),console.log(O),console.log(v)}))}),[]),Object(p.jsx)("div",{className:"sidebar",children:Object(p.jsxs)("div",{className:"main-wrap",children:[Object(p.jsxs)("div",{className:"top-wrapper",children:[Object(p.jsx)("div",{className:"cover-photo-div"}),Object(p.jsxs)("div",{className:"top-content",children:[Object(p.jsx)("img",{className:"profile-photo",src:r.propic,alt:""}),Object(p.jsx)("h3",{className:"profile-name",children:r.UserName}),Object(p.jsx)("p",{className:"profile-rating",children:"rating"}),Object(p.jsxs)("div",{className:"starts",children:[" ",Object(p.jsx)(o.a,{name:"size-small",size:"small",value:2,readOnly:!0})]})]}),Object(p.jsx)("hr",{className:"sidebar-hr"})]}),Object(p.jsxs)("div",{className:"bottom-wrapper",children:[Object(p.jsxs)("div",{className:"follow-div",children:[Object(p.jsx)("p",{className:"follow-title",children:"Followers"}),Object(p.jsx)("p",{className:"follow-count",children:O})]}),Object(p.jsxs)("div",{className:"follow-div",children:[Object(p.jsx)("p",{className:"follow-title",children:"Followings"}),Object(p.jsx)("p",{className:"follow-count",children:v})]}),Object(p.jsxs)("div",{className:"follow-div",children:[Object(p.jsx)("p",{className:"follow-title",children:"Posts"}),Object(p.jsx)("p",{className:"follow-count",children:r.posts})]}),Object(p.jsx)(u.b,{to:"/judge",children:Object(p.jsx)(l.a,{variant:"contained",color:"primary",children:"Judges panel"})})]})]})})}var m=n(10),O=n.n(m),x=n(17),f=(n(242),n(243),n(450)),g=n(456),v=n(476),N=n(455),w=n(19);function y(e){var t=e.renderPosts,n=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),a=Object(i.a)(n,2),c=a[0],r=(a[1],Object(w.f)(),Object(s.useState)(!1)),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(s.useState)(null),u=Object(i.a)(j,2),h=u[0],m=u[1],y=Object(s.useState)(""),S=Object(i.a)(y,2),P=S[0],I=S[1],C=Object(s.useState)(""),k=Object(i.a)(C,2),D=k[0],E=k[1],U=Object(s.useState)(""),_=Object(i.a)(U,2),B=_[0],T=_[1],F=Object(s.useState)(""),W=Object(i.a)(F,2),A=W[0],L=W[1],R=Object(s.useState)(!1),M=Object(i.a)(R,2),J=M[0],q=M[1],V=c.userData._id,H=function(){var e=Object(x.a)(O.a.mark((function e(n){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("postbtn").style.display="none",n.preventDefault(),d(!0),console.log(h),s=new FormData,console.log(A),s.append("name",P),s.append("sources",D),s.append("category",B),s.append("description",A),s.append("file",h),s.append("postedBy",V),s.append("valuation",J),console.log(s,"dataaaaaaaaaaaaaaaaaaa"),fetch(b+"/api/v1/post/setProfilePic",{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){console.log(e),t(),d(!1),m(null),L(""),I(""),E(""),T(" ")})).then((function(){})).catch((function(e){return alert(e)}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"share",children:Object(p.jsxs)("div",{className:"shareWrapper",children:[Object(p.jsxs)("div",{className:"shareTop",children:[Object(p.jsx)("img",{className:"shareProfileImg",src:c.userData.propic,alt:""}),Object(p.jsx)("input",{placeholder:"Welcome "+c.userData.UserName,className:"shareInput",value:A,onChange:function(e){return L(e.target.value)}})]}),Object(p.jsx)("hr",{className:"shareHr"}),h&&Object(p.jsxs)("div",{id:"sharevdo",className:"videoView",children:[Object(p.jsx)("video",{width:"600",height:"300",controls:!0,children:Object(p.jsx)("source",{className:"videoPreview",src:URL.createObjectURL(h),type:"video/mp4"})}),Object(p.jsx)(f.a,{className:"cancelVideo",onClick:function(){return m(null)}}),Object(p.jsx)("form",{is:"iron-form",onSubmit:H,children:Object(p.jsxs)("div",{className:"field-wrapper",children:[Object(p.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(p.jsx)(v.a,{value:P,onChange:function(e){return I(e.target.value)},required:!0,name:"name",label:"Name of the song",id:"outlined-margin-dense",margin:"dense",variant:"outlined"}),Object(p.jsx)(v.a,{name:"sources",value:D,onChange:function(e){return E(e.target.value)},required:!0,label:"Film/Album/Other source",id:"outlined-margin-dense",margin:"dense",variant:"outlined"}),Object(p.jsx)(v.a,{name:"category",value:B,onChange:function(e){return T(e.target.value)},required:!0,label:"Category",id:"outlined-margin-dense",margin:"dense",variant:"outlined"})]}),Object(p.jsx)("input",{value:J,onChange:function(e){return q(e.target.checked)},type:"checkbox",id:"valid-checkbox"}),Object(p.jsx)("label",{htmlFor:"valid-checkbox",children:"Send post for valuation"}),Object(p.jsxs)("div",{style:{alignItems:"centre"},children:[l&&Object(p.jsx)(N.a,{}),Object(p.jsx)("button",{type:"submit",id:"postbtn",className:"shareButton",children:"ADD POST"})]})]})})]}),Object(p.jsx)("form",{className:"shareBottom",children:Object(p.jsx)("div",{className:"shareOptions",children:Object(p.jsxs)("label",{htmlFor:"videoShare",className:"shareOption",children:[Object(p.jsx)(g.a,{htmlColor:"tomato",className:"shareIcon"}),Object(p.jsx)("span",{className:"shareOptionText",children:"Add Your Song"}),Object(p.jsx)("input",{style:{display:"none"},type:"file",id:"videoShare",onChange:function(e){return m(e.target.files[0])}})]})})})]})})}var S=n(13),P=(n(244),n(458)),I=n(187),C=n.n(I),k=n(459),D=n(475),E=n(453),U=n(460),_=n(477),B=n(478),T=n(409),F=n(457),W=n(186),A=n.n(W),L=n(69),R=n(104),M=n.n(R),J=Object(F.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)}}}));function q(e){var t=e.userData,n=e.userPost,c=e.renderPosts;console.log(t);var r,o=Object(s.useState)(JSON.parse(localStorage.getItem("userData")).userData),l=Object(i.a)(o,2),d=l[0],h=(l[1],Object(s.useState)("")),m=Object(i.a)(h,2),f=m[0],g=m[1],N=Object(s.useState)(""),w=Object(i.a)(N,2),y=w[0],I=w[1],F=Object(s.useState)(""),W=Object(i.a)(F,2),R=W[0],q=W[1],V=Object(s.useState)(""),H=Object(i.a)(V,2),K=H[0],z=H[1],G=Object(s.useState)([]),Y=Object(i.a)(G,2),Z=(Y[0],Y[1]),X=Object(s.useState)(t.post.likes.length),$=Object(i.a)(X,2),Q=$[0],ee=$[1],te=Object(s.useState)(!1),ne=Object(i.a)(te,2),se=ne[0],ae=ne[1],ce=Object(s.useState)(0),re=Object(i.a)(ce,2),ie=re[0],oe=re[1],le=Object(s.useState)(!1),de=Object(i.a)(le,2),je=de[0],ue=de[1],be=Object(s.useState)(""),pe=Object(i.a)(be,2),he=(pe[0],pe[1],J(),a.a.useState(!1)),me=Object(i.a)(he,2),Oe=me[0],xe=me[1],fe=a.a.useRef(null),ge=function(){var e=Object(x.a)(O.a.mark((function e(n){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),s={name:f,sources:y,category:R,description:K},j.a.post(b+"/api/v1/post/editPost/"+t.post._id,s).then((function(){c(),ue(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){fe.current&&fe.current.contains(e.target)||xe(!1)};function Ne(e){"Tab"===e.key&&(e.preventDefault(),xe(!1))}var we=a.a.useRef(Oe);a.a.useEffect((function(){!0===we.current&&!1===Oe&&fe.current.focus(),we.current=Oe}),[Oe]);Object(s.useEffect)((function(){ae(t.post.likes.includes(d._id)),oe(t.post.views)}),[d._id,t.post.likes,t.post.views]);var ye=function(){try{j.a.put(b+"/api/v1/post/like/"+t.post._id,{userId:d._id})}catch(e){}ee(se?Q-1:Q+1),ae(!se)};return Object(p.jsxs)("div",{id:t.post._id,children:[Object(p.jsx)("div",{className:"post",children:Object(p.jsxs)("div",{className:"postWrapper",children:[Object(p.jsxs)("div",{className:"postTop",children:[Object(p.jsxs)("div",{className:"postTopLeft",children:[Object(p.jsx)("img",{className:"postProfileImg",src:void 0!=t.propic?t.propic:"/assets/person/noAvatar.png"}),Object(p.jsx)(u.b,{to:"/profile/".concat(t._id),style:{textDecoration:"none"},children:Object(p.jsx)("span",{style:{color:"black"},className:"postUsername",children:t.UserName})}),Object(p.jsx)("span",{className:"postDate",children:Object(L.a)(t.post.postedAt)})]}),Object(p.jsxs)("div",{className:"postTopRight",children:[Object(p.jsx)(P.a,{ref:fe,"aria-controls":Oe?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){xe((function(e){return!e}))}}),Object(p.jsx)(k.a,{open:Oe,anchorEl:fe.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var s=e.TransitionProps,a=e.placement;return Object(p.jsx)(D.a,Object(S.a)(Object(S.a)({},s),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(p.jsx)(E.a,{children:Object(p.jsx)(U.a,{onClickAway:ve,children:1==n?Object(p.jsxs)(_.a,{autoFocusItem:Oe,id:"menu-list-grow",onKeyDown:Ne,children:[Object(p.jsx)(B.a,{onClick:function(){var e;e=t.post._id,j.a.get(b+"/api/v1/post/getPost/"+e).then((function(e){r=e.data})).then((function(){g(r.name),I(r.sources),q(r.category),z(r.description),xe(!1),ue(!0)}))},children:"Edit Post"}),Object(p.jsx)(B.a,{onClick:function(){var e,n;1==window.confirm("Are You Sure To Delete This Post?")?(e=t.post._id,n=t.post.url,j.a.put(b+"/api/v1/post/deletePost/"+e,{url:n}).then((function(e){c(),xe(!1)}))):xe(!1)},children:"Delete Post"})]}):Object(p.jsxs)(_.a,{autoFocusItem:Oe,id:"menu-list-grow",onKeyDown:Ne,children:[Object(p.jsx)(B.a,{onClick:ve,children:"Report"}),Object(p.jsx)(B.a,{onClick:ve,children:"save"})]})})})}))}})]})]}),Object(p.jsx)("hr",{style:{marginBottom:"10px",marginTop:"10px"}}),Object(p.jsxs)("div",{className:"postCenter",children:[Object(p.jsx)("span",{className:"postDescription",children:t.post.description}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{className:"postText",children:[Object(p.jsx)("b",{children:"Song Name:  "}),t.post.name]}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{className:"postText",children:[Object(p.jsx)("b",{children:"Film/Source:  "}),t.post.sources]}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{className:"postText",children:[Object(p.jsx)("b",{children:"Category:   "}),t.post.category]}),Object(p.jsx)("br",{}),Object(p.jsx)("hr",{style:{marginBottom:"10px"}}),Object(p.jsx)(M.a,{controls:!0,width:"600px",height:"300px",url:t.post.url,onStart:function(){try{j.a.put(b+"/api/v1/post/countViews/"+t.post._id,{userId:d._id}).then((function(){oe(ie+1)}))}catch(e){}}})]}),Object(p.jsxs)("div",{className:"postBottom",children:[Object(p.jsxs)("div",{className:"postBottomLeft",children:[se?Object(p.jsx)(A.a,{className:"likeIcon",onClick:ye}):Object(p.jsx)(C.a,{className:"likeIcon",onClick:ye}),Object(p.jsxs)("span",{className:"postLikeCounter",children:[Q," people liked it"]})]}),Object(p.jsx)("div",{className:"postBottomRight",children:Object(p.jsxs)("span",{className:"postCommentText",children:[" ",ie," views"]})})]}),Object(p.jsxs)("div",{className:"commentSection",children:[Object(p.jsx)("div",{className:"postComments",children:t.post.comments&&t.post.comments.map((function(e){return Object(p.jsx)("div",{className:"postComment",children:Object(p.jsxs)("div",{className:"comment-main-div",children:[Object(p.jsx)("img",{src:"/assets/person/noAvatar.png",alt:"userLogo"}),Object(p.jsx)(u.b,{to:"/profile/".concat(e.postedBy.userId),style:{textDecoration:"none"},children:Object(p.jsx)("span",{style:{color:"black",fontWeight:"600",paddingBottom:"30px"},children:e.postedBy.userName})}),Object(p.jsxs)("span",{children:[":  ",e.comment]}),Object(p.jsx)("p",{className:"replay-text",onClick:function(){document.getElementById("replyComment").style.display="block"},children:"Reply"}),Object(p.jsx)("div",{id:"replyComment",className:"reply-div",children:Object(p.jsx)("input",{type:"text",value:"data"})})]})},e._id)}))}),Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e){try{j.a.put(b+"/api/v1/post/comment/"+t.post._id,{user:{userId:d._id,userName:d.UserName},comment:e}).then((function(e){console.log(e),document.getElementById(t.post._id).value="",t.post.comments.push(e.data.comments),console.log(e.data.comments),Z(e)}))}catch(n){}}(e.target[0].value)},children:Object(p.jsxs)("div",{className:"postCommentInput",children:[Object(p.jsx)("input",{id:t.post._id,type:"text",required:!0,className:"commentInput",placeholder:"Add a comment"}),Object(p.jsx)("button",{type:"submit",className:"commentButton",children:"Comment"})]})})]})]})}),je&&Object(p.jsx)("div",{className:"channel-popup-main-div5",id:"dropdown",children:Object(p.jsxs)("div",{className:"channel-popup-inner-div5",children:[Object(p.jsx)("button",{onClick:function(){ue(!1)},className:"close-btn",children:"x"}),Object(p.jsx)("div",{className:"user-registration-wrapper5",children:Object(p.jsxs)("div",{className:"user-registration-sub-wrapper",children:[Object(p.jsx)("div",{className:"heading-wrapper",children:Object(p.jsx)("h3",{children:"EDIT POST"})}),Object(p.jsx)("form",{onSubmit:ge,className:"loginBox",children:Object(p.jsxs)("div",{className:"field-wrapper",children:[Object(p.jsx)("div",{className:"user-registration-field-wrapper",children:Object(p.jsx)(v.a,{value:f,onChange:function(e){return g(e.target.value)},label:"Song Name",id:"outlined-margin-dense",helperText:"Enter The Song Name",margin:"dense",variant:"outlined",style:{width:440}})}),Object(p.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(p.jsx)(v.a,{value:y,onChange:function(e){return I(e.target.value)},label:"Film/Sources",id:"outlined-margin-dense",helperText:"Enter Film/Sources",margin:"dense",variant:"outlined",style:{width:215}}),Object(p.jsx)(v.a,{value:R,onChange:function(e){return q(e.target.value)},required:!0,name:"PhoneNumber",label:"Phone Number",id:"outlined-margin-dense",helperText:"Enter Your Phone Number.",margin:"dense",variant:"outlined",style:{width:215}})]}),Object(p.jsx)("div",{className:"user-registration-field-wrapper",children:Object(p.jsx)(T.a,{name:"User Bio",value:K,onChange:function(e){return z(e.target.value)},required:!0,label:"Description",helperText:"Description",placeholder:"Description",variant:"outlined",maxRows:4,minRows:3,style:{width:440}})}),Object(p.jsx)("div",{className:"button-wrapper",children:Object(p.jsx)("div",{className:"button-inside-wrapper",children:Object(p.jsx)("button",{type:"submit",children:"Edit Post"})})})]})})]})})]})})]})}function V(e){var t=e.props,n=e.userPost;console.log(t);var a=Object(s.useState)([]),c=Object(i.a)(a,2),r=c[0],o=c[1],l=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),d=Object(i.a)(l,2),u=d[0],h=(d[1],function(){var e=Object(x.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"==t){e.next=6;break}return e.next=3,j.a.get(b+"/api/v1/post/userPosts/"+t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,j.a.get(b+"/api/v1/post/explorePosts/"+u.userData._id);case 8:e.t0=e.sent;case 9:n=e.t0,console.log(n.data),o(n.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r),"home"==t){e.next=7;break}return e.next=4,j.a.get(b+"/api/v1/post/userPosts/"+t);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,j.a.get(b+"/api/v1/post/explorePosts/"+u.userData._id);case 9:e.t0=e.sent;case 10:n=e.t0,console.log(n.data),o(n.data),"added";case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,u]),Object(p.jsx)("div",{className:"feed",children:Object(p.jsxs)("div",{className:"feed-wrapper",children:[Object(p.jsx)(y,{renderPosts:h}),r.map((function(e){return Object(p.jsx)(q,{userData:e,userPost:n,renderPosts:h},e._id)}))]})})}n(264);function H(e){var t=e.profile,n=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("img",{className:"rightbarAd",src:"",alt:""}),Object(p.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(p.jsx)("ul",{className:"rightbarFriendList"})]})},s=function(e){return console.log(e),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"heading",children:Object(p.jsx)("h4",{className:"rightbarTitle",style:{fontWeight:900},children:"User information"})}),Object(p.jsxs)("div",{className:"rightbarInfo",children:[Object(p.jsxs)("div",{className:"rightbarInfoItem",children:[Object(p.jsx)("span",{className:"rightbarInfoKey",children:"EMAIL:"}),Object(p.jsx)("span",{className:"rightbarInfoValue",children:e.props.Email})]}),Object(p.jsxs)("div",{className:"rightbarInfoItem",children:[Object(p.jsx)("span",{className:"rightbarInfoKey",children:"Contact NO:"}),Object(p.jsx)("span",{className:"rightbarInfoValue",children:e.props.PhoneNumber})]}),Object(p.jsxs)("div",{className:"rightbarInfoItem",children:[Object(p.jsx)("span",{className:"rightbarInfoKey",children:"Website:"}),Object(p.jsx)("span",{className:"rightbarInfoValue",children:e.props.Website})]}),Object(p.jsxs)("div",{className:"rightbarInfoItem",children:[Object(p.jsx)("span",{className:"rightbarInfoKey",children:"DOB:"}),Object(p.jsx)("span",{className:"rightbarInfoValue",children:e.props.Dob})]}),Object(p.jsxs)("div",{className:"rightbarInfoItem",children:[Object(p.jsx)("span",{className:"rightbarInfoKey",children:"Gender:"}),Object(p.jsx)("span",{className:"rightbarInfoValue",children:e.props.Gender})]})]}),Object(p.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(p.jsxs)("div",{className:"rightbarFollowings",children:[Object(p.jsxs)("div",{className:"rightbarFollowing",children:[Object(p.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(p.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(p.jsxs)("div",{className:"rightbarFollowing",children:[Object(p.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(p.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(p.jsxs)("div",{className:"rightbarFollowing",children:[Object(p.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(p.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(p.jsxs)("div",{className:"rightbarFollowing",children:[Object(p.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(p.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(p.jsxs)("div",{className:"rightbarFollowing",children:[Object(p.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(p.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]}),Object(p.jsxs)("div",{className:"rightbarFollowing",children:[Object(p.jsx)("img",{src:"",alt:"",className:"rightbarFollowingImg"}),Object(p.jsx)("span",{className:"rightbarFollowingName",children:"John Carter"})]})]})]})};return Object(p.jsx)("div",{className:"rightbar",children:Object(p.jsx)("div",{className:"rightbarWrapper",children:t?Object(p.jsx)(s,{props:t}):Object(p.jsx)(n,{})})})}n(265);var K,z=n(461),G=n(462),Y=n(463),Z=n(464),X=(n(266),n(89)),$=function(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(n),a=new Uint8Array(s.length),c=0;c<s.length;++c)a[c]=s.charCodeAt(c);return a}("BCE2rnvWM6soTQ84rBSvfrgWH4DXZb01pEasLmNOCzxBEKK9VNikCZhs0hffCxUP6auUeOA883XbdAcNXPE_EQI");function Q(e){return fetch("".concat("http://localhost:5000","/api/v1//notifications"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}var ee=Object(F.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)}}}));function te(){var e=Object(w.f)(),t=Object(s.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),l=Object(i.a)(o,2),d=l[0],h=(l[1],Object(s.useState)("")),m=Object(i.a)(h,2),f=(m[0],m[1],Object(s.useState)("")),g=Object(i.a)(f,2),v=(g[0],g[1],Object(s.useState)("")),N=Object(i.a)(v,2),y=N[0],P=N[1],I=Object(s.useState)([]),C=Object(i.a)(I,2),T=C[0],F=C[1],W=Object(s.useState)([]),A=Object(i.a)(W,2),L=A[0],R=A[1],M=Object(s.useState)(!1),J=Object(i.a)(M,2),q=(J[0],J[1]),V=Object(s.useState)("music"),H=Object(i.a)(V,2),$=H[0],Q=H[1],te=(ee(),a.a.useState(!1)),ne=Object(i.a)(te,2),se=ne[0],ae=ne[1],ce=a.a.useRef(null),re=function(e){ce.current&&ce.current.contains(e.target)||ae(!1)};function ie(e){"Tab"===e.key&&(e.preventDefault(),ae(!1))}var oe=a.a.useRef(se);a.a.useEffect((function(){!0===oe.current&&!1===se&&ce.current.focus(),oe.current=se}),[se]);var le=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(K),!K){t.next=4;break}return t.next=4,j.a.put(b+"/api/v1/logout/"+d.userData._id,{subscription:K});case 4:localStorage.removeItem("userData"),e.push("/login");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"topbarContainer",children:[Object(p.jsx)("div",{className:"topbarLeft",children:Object(p.jsx)("span",{className:"logo",children:"Singram"})}),Object(p.jsxs)("div",{className:"topbarCenter",children:[Object(p.jsxs)("div",{className:"searchbar",children:[Object(p.jsx)(z.a,{className:"searchIcon"}),Object(p.jsx)("input",{placeholder:"Search for friend, post or video",className:"searchInput",value:y,onChange:function(e){return P(e.target.value)},onInput:function(){r(!0)},onKeyUp:function(){"music"==$?j.a.get(b+"/api/v1/post/searchPost/"+y).then((function(e){F(e.data)})):j.a.get(b+"/api/v1/searchProfile/"+y).then((function(e){R(e.data)}))},onBlur:function(){setTimeout((function(){r(!1)}),300)}}),Object(p.jsxs)("select",{onChange:function(e){console.log(e.target.value),r(!1),Q(e.target.value)},name:"",id:"",className:"search-filter-dropdown",children:[Object(p.jsx)("option",{value:"music",children:"Music"}),Object(p.jsx)("option",{value:"user",children:"User"})]})]}),!0===c&&T!==[]&&"music"==$&&Object(p.jsx)("div",{className:"channel-popup-main-div1",id:"dropdown5",children:Object(p.jsx)("div",{className:"channel-popup-inner-div1",children:T.map((function(e){return Object(p.jsxs)("div",{className:"comment-main-div1",children:[Object(p.jsx)("div",{className:"profileImg1",children:Object(p.jsx)(X.a,{smooth:!0,to:"/profile/".concat(e.postedBy),style:{textDecoration:"none"},children:Object(p.jsx)("img",{onClick:function(){r(!1)},src:void 0!=e.postedUser.propic?e.postedUser.propic:"/assets/person/noAvatar.png",alt:"userLogo"})})}),Object(p.jsxs)("div",{className:"profileName",children:[Object(p.jsxs)(X.a,{smooth:!0,to:"/profile/".concat(e.postedBy,"#").concat(e._id),style:{textDecoration:"none"},children:[Object(p.jsx)("span",{onClick:function(){r(!1)},style:{color:"black",fontWeight:"600"},children:e.name}),Object(p.jsx)("br",{})]}),Object(p.jsxs)(X.a,{smooth:!0,to:"/profile/".concat(e.postedBy),style:{textDecoration:"none"},children:[Object(p.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",color:"black",fontWeight:"600",paddingBottom:"20px"},children:"Singer Name: "}),Object(p.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",textDecoration:"none"},children:e.postedUser.UserName}),Object(p.jsx)("br",{})]}),Object(p.jsx)(X.a,{smooth:!0,to:"/profile/".concat(e.postedBy,"#").concat(e._id),style:{textDecoration:"none"},children:Object(p.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",color:"black",fontWeight:"600",paddingBottom:"20px"},children:"Source/film: "})}),Object(p.jsx)("span",{onClick:function(){r(!1)},style:{fontSize:"12px",textDecoration:"none"},children:e.sources}),Object(p.jsx)("br",{})]})]},e._id)}))})}),!0===c&&L!=[]&&"user"==$&&Object(p.jsx)("div",{className:"channel-popup-main-div1",id:"dropdown",children:Object(p.jsx)("div",{className:"channel-popup-inner-div1",children:L.map((function(e){return Object(p.jsxs)("div",{onClick:function(){q(!0)},className:"comment-main-div1",children:[Object(p.jsx)("div",{className:"profileImg1",children:Object(p.jsx)(u.b,{to:"/profile/".concat(e._id),style:{textDecoration:"none"},children:Object(p.jsx)("img",{onClick:function(){r(!1)},src:e.propic?e.propic:"/assets/person/noAvatar.png",alt:"userLogo"})})}),Object(p.jsx)("div",{className:"profileName",children:Object(p.jsx)(u.b,{to:"/profile/".concat(e._id),style:{textDecoration:"none"},children:Object(p.jsx)("span",{onClick:function(){r(!1)},style:{color:"black",fontWeight:"600",paddingBottom:"30px"},children:e.UserName})})}),e._id!=d.userData._id&&Object(p.jsx)("div",{className:"followBtn1",children:Object(p.jsx)("button",{id:e._id,onClick:function(){var t;t=e._id,j.a.put(b+"/api/v1/followUser/"+t,{userId:d.userData._id}).then((function(e){q(!1),"Unfollowed"===e.data?document.getElementById(t).innerHTML="Follow":document.getElementById(t).innerHTML="Unfollow"}))},children:e.followers.includes(d.userData._id)?"Unfollow":"Follow"})})]},e._id)}))})})]}),Object(p.jsxs)("div",{className:"topbarRight",children:[Object(p.jsxs)("div",{className:"topbarLinks",children:[Object(p.jsx)(u.b,{style:{textDecoration:"none"},to:"/",children:Object(p.jsx)("span",{style:{color:"white"},className:"topbarLink",children:"Homepage"})}),Object(p.jsx)(u.b,{style:{textDecoration:"none"},to:"/profile/".concat(d.userData._id),children:Object(p.jsx)("span",{style:{color:"white"},className:"topbarLink",children:"Profile"})})]}),Object(p.jsxs)("div",{className:"topbarIcons",children:[Object(p.jsxs)("div",{className:"topbarIconItem",children:[Object(p.jsx)(G.a,{}),Object(p.jsx)("span",{className:"topbarIconBadge",children:"1"})]}),Object(p.jsx)(u.b,{to:"/chat",children:Object(p.jsxs)("div",{className:"topbarIconItem",children:[Object(p.jsx)(Y.a,{}),Object(p.jsx)("span",{className:"topbarIconBadge",children:"2"})]})}),Object(p.jsxs)("div",{className:"topbarIconItem",children:[Object(p.jsx)(Z.a,{}),Object(p.jsx)("span",{className:"topbarIconBadge",children:"1"})]})]}),Object(p.jsx)("img",{src:d.userData.propic,alt:"",className:"topbarImg",ref:ce,"aria-controls":se?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){ae((function(e){return!e}))}}),Object(p.jsx)(k.a,{open:se,anchorEl:ce.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(p.jsx)(D.a,Object(S.a)(Object(S.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(p.jsx)(E.a,{children:Object(p.jsx)(U.a,{onClickAway:re,children:Object(p.jsxs)(_.a,{autoFocusItem:se,id:"menu-list-grow",onKeyDown:ie,children:[Object(p.jsx)(u.b,{style:{textDecoration:"none"},to:"/profile/".concat(d.userData._id),children:Object(p.jsx)(B.a,{style:{textDecoration:"none"},children:"Profile"})}),Object(p.jsx)(B.a,{onClick:re,children:"My account"}),Object(p.jsx)(B.a,{onClick:le,children:"Logout"})]})})})}))}})]})]})}n(267);function ne(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(te,{}),Object(p.jsxs)("div",{className:"homePage",children:[Object(p.jsx)(h,{}),Object(p.jsx)(V,{props:"home"}),Object(p.jsx)(H,{})]})]})}n(268);var se=n(465),ae=n(190),ce=n.n(ae),re=(n(269),n(198)),ie=n(188),oe=n.n(ie),le=function(e){return new Promise((function(t,n){var s=new Image;s.addEventListener("load",(function(){return t(s)})),s.addEventListener("error",(function(e){return n(e)})),s.setAttribute("crossOrigin","anonymous"),s.src=e}))};function de(e){return e*Math.PI/180}function je(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(x.a)(O.a.mark((function e(t,n){var s,a,c,r,i,o,l,d=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>2&&void 0!==d[2]?d[2]:0,e.next=3,le(t);case 3:return a=e.sent,c=document.createElement("canvas"),r=c.getContext("2d"),i=Math.max(a.width,a.height),o=i/2*Math.sqrt(2)*2,c.width=o,c.height=o,r.translate(o/2,o/2),r.rotate(de(s)),r.translate(-o/2,-o/2),r.drawImage(a,o/2-.5*a.width,o/2-.5*a.height),l=r.getImageData(0,0,o,o),c.width=n.width,c.height=n.height,r.putImageData(l,0-o/2+.5*a.width-n.x,0-o/2+.5*a.height-n.y),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(481),n(474);Object(F.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var be=a.a.createContext();var pe,he=function(e,t){for(var n=e.split(","),s=n[0].match(/:(.*?);/)[1],a=atob(n[1]),c=a.length,r=new Uint8Array(c);c--;)r[c]=a.charCodeAt(c);return new File([r],t,{type:s})},me=Object(F.a)({iconButton:{position:"absolute",top:"20px",right:"20px"},cancelIcon:{color:"#00a3c8",fontSize:"50px","&:hover":{color:"red"}}});function Oe(e){var t=e.handleCropper,n=e.userId,c=(e.proPic,e.renderProfile),r=me(),o=a.a.useRef(),d=a.a.useContext(be),u=a.a.useState(null),h=Object(i.a)(u,2),m=h[0],f=h[1],g=a.a.useState(null),v=Object(i.a)(g,2),N=v[0],w=v[1],y=a.a.useState({x:0,y:0}),S=Object(i.a)(y,2),P=S[0],I=S[1],C=a.a.useState(1),k=Object(i.a)(C,2),D=k[0],E=k[1],U=function(){var e=Object(x.a)(O.a.mark((function e(){var t,s,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return",d(!0,"Please select an image!","warning"));case 2:return e.next=4,je(m,N);case 4:t=e.sent,s=t.toDataURL("image/jpeg"),a=he(s,"cropped-image.jpeg"),console.log(a),(r=new FormData).append("file",a),console.log(n),j.a.post(b+"/api/v1/editProPic/"+n,r).then((function(e){c()}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){o.current.click()}),[o]),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(se.a,{className:r.iconButton,onClick:t,children:Object(p.jsx)(oe.a,{style:{zIndex:1},className:r.cancelIcon})}),Object(p.jsx)("div",{className:"container-cropper",children:m?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"cropper",children:Object(p.jsx)(re.a,{image:m,crop:P,zoom:D,aspect:1,onCropChange:I,onZoomChange:E,onCropComplete:function(e,t){w(t)}})})}):null}),Object(p.jsxs)("div",{className:"container-buttons",children:[Object(p.jsx)("input",{type:"file",accept:"image/*",ref:o,onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.addEventListener("load",(function(){f(t.result)}))}},style:{display:"none"}}),Object(p.jsx)(l.a,{variant:"contained",color:"secondary",onClick:U,children:"Upload"})]})]})}var xe=Object(F.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)},cameraIcon:{height:"2rem",width:"2rem",position:"absolute",bottom:20,right:"410px",backgroundColor:"white"}}}));function fe(){var e=xe(),t=a.a.useState(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],o=a.a.useRef(null),l=a.a.useState(!1),d=Object(i.a)(l,2),m=d[0],f=d[1],g=function(){return f((function(e){return!e}))},N=function(e){o.current&&o.current.contains(e.target)||r(!1)};function y(e){"Tab"===e.key&&(e.preventDefault(),r(!1))}var P=a.a.useRef(c);a.a.useEffect((function(){!0===P.current&&!1===c&&o.current.focus(),P.current=c}),[c]);var I=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),C=Object(i.a)(I,2),F=C[0],W=(C[1],Object(s.useState)(!1)),A=Object(i.a)(W,2),L=A[0],R=A[1],M=Object(s.useState)(""),J=Object(i.a)(M,2),q=J[0],K=J[1],z=Object(s.useState)(!1),G=Object(i.a)(z,2),Y=G[0],Z=G[1],X=Object(w.g)().id,$=Object(s.useState)(0),Q=Object(i.a)($,2),ee=Q[0],ne=Q[1],ae=Object(s.useState)(0),re=Object(i.a)(ae,2),ie=re[0],oe=re[1],le=Object(s.useState)(q.UserName),de=Object(i.a)(le,2),je=de[0],ue=de[1],be=Object(s.useState)(q.Email),he=Object(i.a)(be,2),me=he[0],fe=he[1],ge=Object(s.useState)(q.PhoneNumber),ve=Object(i.a)(ge,2),Ne=ve[0],we=ve[1],ye=Object(s.useState)(q.Dob),Se=Object(i.a)(ye,2),Pe=Se[0],Ie=Se[1],Ce=Object(s.useState)(q.Gender),ke=Object(i.a)(Ce,2),De=ke[0],Ee=ke[1],Ue=Object(s.useState)(q.Website),_e=Object(i.a)(Ue,2),Be=_e[0],Te=_e[1],Fe=Object(s.useState)(q.Bio),We=Object(i.a)(Fe,2),Ae=We[0],Le=We[1],Re=Object(s.useState)(""),Me=Object(i.a)(Re,2),Je=Me[0],qe=Me[1],Ve=Object(s.useState)(""),He=Object(i.a)(Ve,2),Ke=He[0],ze=He[1],Ge=Object(s.useState)(!1),Ye=Object(i.a)(Ge,2),Ze=(Ye[0],Ye[1]),Xe=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={UserName:je,Email:me,PhoneNumber:Ne,Dob:Pe,Gender:De,Website:Be,Bio:Ae},j.a.post(b+"/api/v1/updateProfile/"+q._id,n).then((function(e){K(e.data),R(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){j.a.get(b+"/api/v1/UserProfile/"+X).then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t.data);case 2:f(!1),pe=t.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){Z(pe.followers.includes(F.userData._id)),ne(pe.followers.length),oe(pe.followings.length),ue(pe.UserName),fe(pe.Email),we(pe.PhoneNumber),Ie(pe.Dob),Ee(pe.Gender),Te(pe.Website),Le(pe.Bio)}))},Qe=function(){j.a.put(b+"/api/v1/deletePropic/"+q._id,{url:q.propic}).then((function(){$e()}))};Object(s.useEffect)(Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){try{j.a.get(b+"/api/v1/UserProfile/"+X).then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t.data);case 2:pe=t.data;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){Z(pe.followers.includes(F.userData._id)),ne(pe.followers.length),oe(pe.followings.length),ue(pe.UserName),fe(pe.Email),we(pe.PhoneNumber),Ie(pe.Dob),Ee(pe.Gender),Te(pe.Website),Le(pe.Bio)}))}catch(e){}},e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),[X]);var et=function(e){R("friends"),ze(e),"FOLLOWINGS"==e?j.a.get(b+"/api/v1/userFollowings/"+q._id).then((function(e){qe(e.data),console.log(e.data)})):j.a.get(b+"/api/v1/userFollowers/"+q._id).then((function(e){qe(e.data),console.log(e.data)}))};return Object(p.jsxs)("div",{children:[Object(p.jsx)(te,{}),Object(p.jsxs)("div",{className:"profile",children:[Object(p.jsx)(h,{}),Object(p.jsxs)("div",{className:"profileRight",children:[Object(p.jsxs)("div",{className:"profileRightTop",children:[Object(p.jsxs)("div",{className:"profileCover",children:[Object(p.jsx)("img",{className:"profileCoverImg",src:"/assets/person/noCover.jpg",alt:""}),Object(p.jsxs)("div",{className:"propic",children:[Object(p.jsx)("img",{className:"profileUserImg",src:void 0!=q.propic?q.propic:"/assets/person/noAvatar.png",alt:"/assets/person/noAvatar.png"}),Object(p.jsx)(se.a,{className:e.cameraIcon,ref:o,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){r((function(e){return!e}))},children:Object(p.jsx)(ce.a,{})}),Object(p.jsx)(k.a,{open:c,anchorEl:o.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(p.jsx)(D.a,Object(S.a)(Object(S.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(p.jsx)(E.a,{children:Object(p.jsx)(U.a,{onClickAway:N,children:Object(p.jsxs)(_.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:y,children:[Object(p.jsx)(B.a,{onClick:function(e){g()},children:"Change"}),Object(p.jsx)(B.a,{onClick:Qe,children:"Remove"})]})})})}))}}),m&&Object(p.jsx)(Oe,{handleCropper:g,userId:q._id,proPic:q.proPic,renderProfile:$e})]})]}),Object(p.jsxs)("div",{className:"profileInfo",children:[Object(p.jsx)("h4",{className:"profileInfoName",children:q.UserName}),Object(p.jsx)("span",{className:"profileInfoDesc",children:q.Bio}),Object(p.jsxs)("span",{onClick:function(){return et("FOLLOWERS")},className:"profileInfoDesc",children:[ee," followers"]}),Object(p.jsxs)("span",{onClick:function(){return et("FOLLOWINGS")},className:"profileInfoDesc",children:[ie," followings"]}),F.userData._id==q._id?Object(p.jsx)("button",{className:"profilebtn",onClick:function(){R("update")},children:"Update Profile"}):Object(p.jsx)("button",{className:"profilebtn",onClick:function(){j.a.put(b+"/api/v1/followUser/"+X,{userId:F.userData._id}).then((function(e){"Unfollowed"===e.data?(Z(!1),ne(ee-1)):(Z(!0),ne(ee+1))}))},children:!0===Y?"Unfollow":"Follow"})]})]}),Object(p.jsxs)("div",{className:"profileRightBottom",children:[Object(p.jsx)(V,{props:q._id,userPost:F.userData._id==q._id}),Object(p.jsx)(H,{profile:q})]})]})]}),"update"==L?Object(p.jsx)("div",{className:"channel-popup-main-div",id:"dropdown",children:Object(p.jsxs)("div",{className:"channel-popup-inner-div",children:[Object(p.jsx)("button",{onClick:function(){R(!1)},className:"close-btn",children:"x"}),Object(p.jsx)("div",{className:"user-registration-wrapper",children:Object(p.jsxs)("div",{className:"user-registration-sub-wrapper",children:[Object(p.jsx)("div",{className:"heading-wrapper",children:Object(p.jsx)("h3",{children:"Update Profile"})}),Object(p.jsx)("form",{onSubmit:Xe,className:"loginBox",children:Object(p.jsxs)("div",{className:"field-wrapper",children:[Object(p.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(p.jsx)(v.a,{value:je,onChange:function(e){return ue(e.target.value)},required:!0,label:"User Name.",id:"outlined-margin-dense",helperText:"Enter your user name",margin:"dense",variant:"outlined"}),Object(p.jsx)(v.a,{value:me,onChange:function(e){return fe(e.target.value)},required:!0,label:"Email.",id:"outlined-margin-dense",helperText:"We'll never share your email",margin:"dense",variant:"outlined"})]}),Object(p.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(p.jsx)(v.a,{value:Ne,onChange:function(e){return we(e.target.value)},required:!0,name:"PhoneNumber",label:"Phone Number",id:"outlined-margin-dense",helperText:"Enter Your Phone Number.",margin:"dense",variant:"outlined"}),Object(p.jsx)(v.a,{name:"dob",value:Pe,onChange:function(e){return Ie(e.target.value)},required:!0,type:"date",id:"outlined-margin-dense",helperText:"Enter Your Date Of Birth",margin:"dense",variant:"outlined",style:{width:220}})]}),Object(p.jsxs)("div",{className:"user-registration-field-wrapper",children:[Object(p.jsxs)(v.a,{value:De,select:!0,onChange:function(e){return Ee(e.target.value)},name:"Gender",label:"Select",id:"outlined-margin-dense",helperText:"Gender",margin:"dense",variant:"outlined",style:{width:220},children:[Object(p.jsx)(B.a,{value:"Male",children:"Male"}),Object(p.jsx)(B.a,{value:"Female",children:"Female"}),Object(p.jsx)(B.a,{value:"Custom",children:"Custom"})]}),Object(p.jsx)(v.a,{name:"website",value:Be,onChange:function(e){return Te(e.target.value)},required:!0,label:"Website",id:"outlined-margin-dense",helperText:"Website",margin:"dense",variant:"outlined"})]}),Object(p.jsx)("div",{className:"user-registration-field-wrapper",children:Object(p.jsx)(T.a,{name:"User Bio",required:!0,label:"Website",helperText:"User Bio",value:Ae,onChange:function(e){return Le(e.target.value)},placeholder:"User Bio",variant:"outlined",maxRows:4,minRows:3,style:{width:460}})}),Object(p.jsx)("div",{className:"button-wrapper",children:Object(p.jsx)("div",{className:"button-inside-wrapper",children:Object(p.jsx)("button",{type:"submit",children:"Update Profile"})})})]})})]})})]})}):"friends"==L&&Object(p.jsx)("div",{className:"followersPopupDiv",id:"dropdown",children:Object(p.jsxs)("div",{className:"followersPopupInnerDiv",children:[Object(p.jsx)("button",{onClick:function(){R(null)},className:"close-btn",children:"x"}),Object(p.jsx)("div",{className:"popupHeading1",children:Object(p.jsx)("h3",{children:Ke})}),Je&&Je.slice(0).reverse().map((function(e){return Object(p.jsxs)("div",{className:"usersView",children:[Object(p.jsx)("div",{className:"profileImg2",children:Object(p.jsx)(u.b,{to:"/profile/".concat(e.friends._id),style:{textDecoration:"none"},children:Object(p.jsx)("img",{onClick:function(){R(!1)},src:"/assets/person/noAvatar.png",alt:"userLogo"})})}),Object(p.jsx)("div",{className:"profileName",children:Object(p.jsx)(u.b,{to:"/profile/".concat(e.friends._id),style:{textDecoration:"none"},children:Object(p.jsx)("span",{onClick:function(){R(!1)},style:{color:"black",fontWeight:"600",paddingBottom:"30px"},children:e.friends.UserName})})}),e.friends._id!=F.userData._id&&Object(p.jsx)("div",{className:"followBtn2",children:Object(p.jsx)("button",{id:e.friends._id,style:{margin:"0px 16px"},onClick:function(){var t;t=e.friends._id,j.a.put(b+"/api/v1/followUser/"+t,{userId:F.userData._id}).then((function(e){Ze(!1),"Unfollowed"===e.data?document.getElementById(t).innerHTML="Follow":document.getElementById(t).innerHTML="Unfollow"}))},children:e.friends.followers.includes(F.userData._id)?"Unfollow":"Follow"})})]},e.friends._id)}))]})})]})}n(274);var ge=n(109),ve=n(33),Ne=n(454);function we(){var e=Object(s.useRef)(),t=Object(s.useRef)(),n=Object(w.f)(),a=Object(ge.a)({initialValues:{UserName:"",Email:"",PasswordAgain:"",password:""},validationSchema:ve.a({Password:ve.c().max(40,"Password too long").required("Please Enter your password").min(6,"Password must be at least 6 charecters"),Email:ve.c().email("Invalid email address").required("Please Enter Email Address")}),onSubmit:function(e){console.log(K),e.subscription=K;var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(b+"/api/v1/login",t).then((function(e){return e.json()})).then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.error?document.getElementById("error").innerHTML=t.error:(localStorage.setItem("token",JSON.stringify(t.jwt)),localStorage.setItem("userData",JSON.stringify({userData:t.user})),n.push("/"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}});return Object(p.jsx)("div",{className:"login",children:Object(p.jsxs)("div",{className:"loginWrapper",children:[Object(p.jsxs)("div",{className:"loginLeft",children:[Object(p.jsx)("img",{className:"home-image",src:"/assets/Theme-image.svg"}),Object(p.jsx)("span",{className:"loginDesc",children:"Express...Explore...."})]}),Object(p.jsx)("div",{className:"loginRight",children:Object(p.jsxs)("form",{onSubmit:a.handleSubmit,className:"loginBox",children:[Object(p.jsx)("span",{style:{color:"red"},id:"error"}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({placeholder:"Email"},a.getFieldProps("Email")),{},{ref:e,className:"loginInput"})),Object(p.jsx)(Ne.a,{children:a.touched.Email&&a.errors.Email?Object(p.jsx)("span",{style:{color:"red"},children:a.errors.Email}):Object(p.jsx)("span",{children:"We'll never share your email. "})}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({type:"password",placeholder:"Password",ref:t},a.getFieldProps("Password")),{},{className:"loginInput"})),Object(p.jsx)(Ne.a,{children:a.touched.Password&&a.errors.Password?Object(p.jsx)("span",{style:{color:"red"},children:a.errors.Password}):Object(p.jsx)("span",{children:"Enter Your Password"})}),Object(p.jsx)("button",{type:"submit",className:"loginButton",children:"Log In"}),Object(p.jsx)("span",{className:"loginForgot",children:"Forgot Password?"}),Object(p.jsx)("div",{className:"links",children:Object(p.jsx)(u.b,{to:"/signup",children:"Don't have an account? sign up"})})]})})]})})}n(373);function ye(){var e=Object(w.f)(),t=Object(ge.a)({initialValues:{UserName:"",Email:"",PasswordAgain:"",password:""},validationSchema:ve.a({Password:ve.c().max(40,"Password too long").required("Please Enter a password").min(6,"Password must be at least 6 charecters"),Email:ve.c().email("Invalid email address").required("Please Enter Email Address"),UserName:ve.c().matches(/^[A-Za-z ]*$/,"Please enter valid name").max(40,"Username is too long").required("Please Enter a username").min(6,"username should contain atleast 6 charecters"),PasswordAgain:ve.c().required("please confirm your password").when("Password",{is:function(e){return!!(e&&e.length>0)},then:ve.c().oneOf([ve.b("Password")],"Password must be match")}),PhoneNumber:ve.c().required("Phone number is required").matches(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,"Please Enter A Valid Phone Number")}),onSubmit:function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};console.log(t),fetch(b+"/api/v1/signUp",n).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("error").innerHTML=t.error:(document.getElementById("error").innerHTML=t.message,e.push("/login"))}))}});return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"login",children:Object(p.jsxs)("div",{className:"loginWrapper",children:[Object(p.jsxs)("div",{className:"loginLeft",children:[Object(p.jsx)("img",{className:"home-image",src:"/assets/Theme-image.svg",alt:""}),Object(p.jsx)("span",{className:"loginDesc",children:"Express...Explore...."})]}),Object(p.jsx)("div",{className:"loginRight",children:Object(p.jsxs)("form",{onSubmit:t.handleSubmit,className:"loginBox",children:[Object(p.jsx)("span",{style:{color:"red"},id:"error"}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({placeholder:"Username"},t.getFieldProps("UserName")),{},{className:"loginInput"})),Object(p.jsx)(Ne.a,{children:t.touched.UserName&&t.errors.UserName?Object(p.jsx)("span",{style:{color:"red"},children:t.errors.UserName}):Object(p.jsx)("span",{children:"Enter your User name"})}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({placeholder:"Email"},t.getFieldProps("Email")),{},{className:"loginInput"})),Object(p.jsx)(Ne.a,{children:t.touched.Email&&t.errors.Email?Object(p.jsx)("span",{style:{color:"red"},children:t.errors.Email}):Object(p.jsx)("span",{children:"We'll never share your email. "})}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({placeholder:"PhoneNumber"},t.getFieldProps("PhoneNumber")),{},{className:"loginInput"})),Object(p.jsx)(Ne.a,{children:t.touched.PhoneNumber&&t.errors.PhoneNumber?Object(p.jsx)("span",{style:{color:"red"},children:t.errors.PhoneNumber}):Object(p.jsx)("span",{children:"We'll never share your phone number. "})}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({placeholder:"Password"},t.getFieldProps("Password")),{},{className:"loginInput"})),Object(p.jsx)(Ne.a,{children:t.touched.Password&&t.errors.Password?Object(p.jsx)("span",{style:{color:"red"},children:t.errors.Password}):Object(p.jsx)("span",{children:"Enter Your Password"})}),Object(p.jsx)("input",Object(S.a)(Object(S.a)({placeholder:"Password Again"},t.getFieldProps("PasswordAgain")),{},{className:"loginInput"})),Object(p.jsx)(Ne.a,{children:t.touched.PasswordAgain&&t.errors.PasswordAgain?Object(p.jsx)("span",{style:{color:"red"},children:t.errors.PasswordAgain}):Object(p.jsx)("span",{children:"Re-enter password"})}),Object(p.jsx)("button",{className:"loginButton",type:"submit",children:"Sign Up"}),Object(p.jsx)("div",{className:"links",children:Object(p.jsx)(u.b,{to:"/login",children:"Already have a account? sign in"})})]})})]})})})}var Se=n(28);n(374);function Pe(e){var t=e.message,n=e.sender;return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:n?"message own":"message",children:[Object(p.jsxs)("div",{className:"messageTop",children:[Object(p.jsx)("img",{className:"messageImg",src:t.senderData&&t.senderData.propic?t.senderData.propic:"/assets/person/noAvatar.png",alt:""}),Object(p.jsx)("p",{className:"messageText",children:t.text})]}),Object(p.jsx)("div",{className:"messageBottom",children:Object(L.a)(t.time)})]})})}n(375);function Ie(e){var t=e.socketUsers,n=e.loginUser;e.currentChat;console.log(t);var a=Object(s.useState)([]),c=Object(i.a)(a,2),r=c[0],o=c[1],l=Object(s.useState)([]),d=Object(i.a)(l,2),u=d[0],h=d[1],m=Object(s.useState)(t),f=Object(i.a)(m,2),g=(f[0],f[1],Object(s.useState)(n)),v=Object(i.a)(g,2),N=v[0];v[1];return Object(s.useEffect)((function(){return j.a.get(b+"/api/v1/userFollowings/"+N).then((function(e){o(e.data)}))}),[N]),Object(s.useEffect)(Object(x.a)(O.a.mark((function e(){var n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.map((function(e){return n.push(e.user_id)}));case 3:return console.log(n),s=[],console.log(r),e.next=8,r.map((function(e){return n.includes(e.friends._id)&&s.push(e.friends)}));case 8:console.log(s),h(s);case 10:case"end":return e.stop()}}),e)}))),[r,t]),Object(s.useEffect)((function(){console.log(u)}),[u]),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"chatOnline",children:u.map((function(e){return Object(p.jsxs)("div",{className:"chatOnlineFriend",children:[Object(p.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(p.jsx)("img",{className:"chatOnlineImg",src:"/assets/person/noAvatar.png",alt:""}),Object(p.jsx)("div",{className:"chatOnlineBadge"})]}),Object(p.jsx)("span",{className:"chatOnlineName",children:e.UserName})]})}))})})}n(376);function Ce(e){var t=e.chat,n=Object(s.useState)(Object(s.useState)(JSON.parse(localStorage.getItem("userData")))),a=Object(i.a)(n,2),c=a[0],r=(a[1],Object(s.useState)(null)),o=Object(i.a)(r,2),l=o[0],d=o[1];return Object(s.useEffect)((function(){var e=t.members.find((function(e){return e!=c[0].userData._id}));console.log(e),j.a.get(b+"/api/v1/getUser/"+e).then((function(e){console.log(e.data),d(e.data)}))}),[c,t]),Object(p.jsxs)("div",{className:"conversation",children:[Object(p.jsx)("img",{className:"conversationImg",src:l&&void 0!=l.propic?l.propic:"/assets/person/noAvatar.png",alt:""}),Object(p.jsx)("span",{className:"conversationName",children:null===l||void 0===l?void 0:l.UserName})]})}n(377);var ke=n(196);function De(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(null),r=Object(i.a)(c,2),o=r[0],l=r[1],d=Object(s.useState)([]),u=Object(i.a)(d,2),h=u[0],m=u[1],f=Object(s.useState)(""),g=Object(i.a)(f,2),v=g[0],N=g[1],w=Object(s.useState)(""),y=Object(i.a)(w,2),S=y[0],P=y[1],I=Object(s.useState)([]),C=Object(i.a)(I,2),k=C[0],D=C[1],E=Object(s.useState)(!1),U=Object(i.a)(E,2),_=U[0],B=U[1],T=Object(s.useState)(!1),F=Object(i.a)(T,2),W=F[0],A=F[1],L=Object(s.useRef)(),R=Object(s.useState)(JSON.parse(localStorage.getItem("userData")).userData),M=Object(i.a)(R,2),J=M[0],q=(M[1],Object(s.useRef)());Object(s.useEffect)((function(){L.current=Object(ke.io)("ws://localhost:4000"),L.current.on("getMessage",(function(e){P(e)})),L.current.on("typingUpdate",(function(e){1==e.typing&&(console.log(e),B(!0))})),L.current.on("typingUpdateOff",(function(e){console.log(e),B(!1)})),L.current.on("getConnections",(function(e){D(e),console.log(e)}))}),[]),Object(s.useEffect)((function(){S&&(null===o||void 0===o||o.members.includes(S.sender)),m((function(e){return[].concat(Object(Se.a)(e),[S])}))}),[S]),Object(s.useEffect)((function(){!1===_?A(!1):!0===_&&A(!0)}),[_]),Object(s.useEffect)((function(){j.a.get(b+"/api/v1/chat/"+J._id).then((function(e){a(e.data),console.log(e)}))}),[J]),Object(s.useEffect)((function(){j.a.get(b+"/api/v1/chat/chatMessage/"+(null===o||void 0===o?void 0:o._id)).then((function(e){m(e.data)}))}),[o]);console.log(L),Object(s.useEffect)((function(){L.current.emit("connect1",J._id),L.current.on("getConnections",(function(e){D(e),console.log(e)}))}),[J]),Object(s.useEffect)((function(){var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[h]);var V=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.members.find((function(e){return e!==J._id})),console.log(J._id,t,v),e.next=4,L.current.emit("ping",{senderId:J._id,recieverId:t,content:v});case 4:j.a.post(b+"/api/v1/chat/message",{sender:J._id,chat:o._id,text:v,senderName:J.UserName}).then((function(e){console.log(e.data),m([].concat(Object(Se.a)(h),[e.data])),N("")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(te,{}),Object(p.jsxs)("div",{className:"messenger",children:[Object(p.jsx)("div",{className:"chatMenu",children:Object(p.jsxs)("div",{className:"chatMenuWrapper",children:[Object(p.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),n.map((function(e){return Object(p.jsx)("div",{onClick:function(){return l(e)},children:Object(p.jsx)(Ce,{chat:e})})}))]})}),Object(p.jsx)("div",{className:"chatBox",children:Object(p.jsx)("div",{className:"chatBoxWrapper",children:o?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"chatBoxTop",children:h.map((function(e){return Object(p.jsx)("div",{ref:q,children:Object(p.jsx)(Pe,{message:e,sender:e.sender===J._id})})}))}),!0===W&&Object(p.jsx)("p",{style:{color:"green"},children:"Typing..."}),Object(p.jsxs)("div",{className:"chatBoxBottom",children:[Object(p.jsx)("input",{className:"chatMessageInput",placeholder:"write something...",onInput:function(){var e=o.members.find((function(e){return e!=J._id}));L.current.emit("typing",{senderId:J._id,recieverId:e})},onBlur:function(){var e=o.members.find((function(e){return e!=J._id}));L.current.emit("offTyping",{senderId:J._id,recieverId:e})},onChange:function(e){return N(e.target.value)},value:v}),Object(p.jsx)("button",{className:"chatSubmitButton",onClick:V,children:"Send"})]})]}):Object(p.jsx)("span",{className:"noConversationText",children:"Open a conversation to start a chat."})})}),Object(p.jsx)("div",{className:"chatOnline",children:Object(p.jsx)("div",{className:"chatOnlineWrapper",children:Object(p.jsx)(Ie,{socketUsers:k,loginUser:J._id,setCurrentChat:l})})})]})]})}n(407);var Ee=n(197),Ue=n.n(Ee),_e=n(467),Be=n(471),Te=n(470),Fe=n(466),We=n(468),Ae=n(473),Le=n(469),Re=[{id:"postedBy",label:"Posted User",minWidth:170,align:"center"},{id:"name",label:"Song Name",minWidth:170,align:"center"},{id:"likes",label:"Likes",minWidth:100,align:"center"},{id:"views",label:"Views",minWidth:100,align:"center"},{id:"comments",label:"Comments",minWidth:100,align:"center"},{id:"url",label:"Delete",minWidth:140,align:"center"}],Me=Object(F.a)({root:{width:"100%"},container:{maxHeight:"calc(100vh - 50px)"}});function Je(){var e=Me(),t=a.a.useState(0),n=Object(i.a)(t,2),c=n[0],r=n[1],o=a.a.useState(10),l=Object(i.a)(o,2),d=l[0],u=l[1],m=Object(s.useState)([]),O=Object(i.a)(m,2),x=(O[0],O[1],Object(s.useState)([])),f=Object(i.a)(x,2),g=f[0],v=f[1],N=Object(s.useState)(!1),w=Object(i.a)(N,2),y=w[0],S=w[1];return Object(s.useEffect)((function(){j.a.get(b+"/api/v1/post/getValuationPosts").then((function(e){v(e.data)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(te,{}),Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)(h,{}),Object(p.jsxs)("div",{className:"postManagement",children:[Object(p.jsxs)(E.a,{className:e.root,children:[Object(p.jsx)(Fe.a,{className:e.container,children:Object(p.jsxs)(_e.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(Le.a,{children:Re.map((function(e){return Object(p.jsx)(Te.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(p.jsx)(Be.a,{children:g.slice(c*d,c*d+d).map((function(e){return Object(p.jsx)(Le.a,{className:"tableRow",onClick:function(){return t=e._id,void j.a.get(b+"/api/v1/admin/getPost/"+t).then((function(e){S(e.data)}));var t},hover:!0,role:"checkbox",tabIndex:-1,children:Re.map((function(t){var n=e[t.id];return Object(p.jsx)(Te.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):"likes"==t.id||"comments"==t.id?n.length:"Delete"==t.label?Object(p.jsx)(Ue.a,{onClick:function(){},style:{cursor:"pointer"},color:e.url?"secondary":"disabled"}):"postedBy"==t.id?e.user.UserName:n},t.id)}))},e.code)}))})]})}),Object(p.jsx)(Ae.a,{rowsPerPageOptions:[10,25,100],component:"div",count:g.length,rowsPerPage:d,page:c,onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){u(+e.target.value),r(0)}})]}),y&&Object(p.jsx)("div",{className:"channel-popup-main-div",id:"dropdown",children:Object(p.jsx)("div",{className:"channel-popup-inner-div",children:Object(p.jsx)("div",{className:"post",children:Object(p.jsxs)("div",{className:"postWrapper",children:[Object(p.jsxs)("div",{className:"postTop",children:[Object(p.jsxs)("div",{className:"postTopLeft",children:[Object(p.jsx)("img",{className:"postProfileImg",src:void 0!=y.user.propic?y.user.propic:"/noAvatar.png"}),Object(p.jsx)("span",{style:{color:"black"},className:"postUsername",children:y.user.UserName}),Object(p.jsx)("span",{className:"postDate",children:Object(L.a)(y.postedAt)})]}),Object(p.jsx)("div",{className:"postTopRight",children:Object(p.jsx)("button",{onClick:function(){S(!1)},className:"close-btn",children:"x"})})]}),Object(p.jsx)("hr",{style:{marginBottom:"10px",marginTop:"10px"}}),Object(p.jsxs)("div",{className:"postCenter",children:[Object(p.jsx)("span",{className:"postDescription",children:y.description}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{className:"postText",children:[Object(p.jsx)("b",{children:"Song Name:  "}),y.name]}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{className:"postText",children:[Object(p.jsx)("b",{children:"Film/Source:  "}),y.sources]}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{className:"postText",children:[Object(p.jsx)("b",{children:"Category:   "}),y.category]}),Object(p.jsx)("br",{}),Object(p.jsx)("hr",{style:{marginBottom:"10px"}}),Object(p.jsx)(M.a,{controls:!0,width:"600px",height:"300px",url:y.url})]}),Object(p.jsxs)("div",{className:"postBottom",children:[Object(p.jsx)("div",{className:"postBottomLeft",children:Object(p.jsxs)("span",{className:"postLikeCounter",children:[y.likes.length,"people liked it"]})}),Object(p.jsxs)("div",{className:"postBottomRight",children:[Object(p.jsxs)("span",{className:"postCommentText",children:[y.comments.length," comments"]}),Object(p.jsxs)("span",{className:"postCommentText",children:[y.views," views"]})]})]})]})})})})]})]})]})}var qe=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))),t=Object(i.a)(e,2),n=t[0];return t[1],Object(p.jsx)("div",{children:Object(p.jsx)(u.a,{children:Object(p.jsxs)(w.c,{children:[Object(p.jsx)(w.a,{path:"/login",component:we}),Object(p.jsx)(w.a,{exact:!0,path:"/",component:n?ne:we}),Object(p.jsx)(w.a,{path:"/signup",component:ye}),Object(p.jsx)(w.a,{exact:!0,path:"/profile/:id",component:n?fe:we}),Object(p.jsx)(w.a,{exact:!0,path:"/chat",component:n?De:we}),Object(p.jsx)(w.a,{path:"/judge",component:n?Je:we})]})})})},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function He(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(qe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){var t=new URL("",window.location.href);if(console.log(t),t.origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/").concat("service-worker.js");Ve?(!function(e,t){console.log("entered"),fetch(e).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?(console.log(n),navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))}))):He(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):He(t,e)}))}}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.pushManager?e.pushManager.getSubscription().then((function(t){null===t?(console.log("No subscription detected, make a request."),e.pushManager.subscribe({applicationServerKey:$,userVisibleOnly:!0}).then((function(e){K=e,console.log("New subscription added."),Q(e)})).catch((function(e){"granted"!==Notification.permission?console.log("Permission was not granted."):console.error("An error ocurred during the subscription process.",e)}))):(console.log("Existed subscription detected."),K=t,Q(t))})):console.log("Push manager unavailable.")})).catch((function(e){console.error("An error ocurred during Service Worker registration.",e)}))}},[[408,1,2]]]);
//# sourceMappingURL=main.535693e1.chunk.js.map